System.register("chunks:///_virtual/ABI.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"71545IDcxRPk6CwyGlI9x0L","ABI",void 0);e("ABI",{Token:[{constant:!1,inputs:[],name:"disregardProposeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"assetProtectionRole",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"r",type:"bytes32[]"},{name:"s",type:"bytes32[]"},{name:"v",type:"uint8[]"},{name:"to",type:"address[]"},{name:"value",type:"uint256[]"},{name:"fee",type:"uint256[]"},{name:"seq",type:"uint256[]"},{name:"deadline",type:"uint256[]"}],name:"betaDelegatedTransferBatch",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"sig",type:"bytes"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"fee",type:"uint256"},{name:"seq",type:"uint256"},{name:"deadline",type:"uint256"}],name:"betaDelegatedTransfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"initializeDomainSeparator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"unfreeze",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"claimOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newSupplyController",type:"address"}],name:"setSupplyController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"target",type:"address"}],name:"nextSeqOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_newAssetProtectionRole",type:"address"}],name:"setAssetProtectionRole",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"freeze",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_newWhitelister",type:"address"}],name:"setBetaDelegateWhitelister",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"decreaseSupply",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isWhitelistedBetaDelegate",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"whitelistBetaDelegate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_proposedOwner",type:"address"}],name:"proposeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"increaseSupply",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"betaDelegateWhitelister",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"proposedOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"unwhitelistBetaDelegate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"wipeFrozenAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"EIP712_DOMAIN_HASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isFrozen",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"supplyController",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"reclaimBUSD",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"currentOwner",type:"address"},{indexed:!0,name:"proposedOwner",type:"address"}],name:"OwnershipTransferProposed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldProposedOwner",type:"address"}],name:"OwnershipTransferDisregarded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"}],name:"AddressFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"}],name:"AddressUnfrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"}],name:"FrozenAddressWiped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldAssetProtectionRole",type:"address"},{indexed:!0,name:"newAssetProtectionRole",type:"address"}],name:"AssetProtectionRoleSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"SupplyIncreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"SupplyDecreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldSupplyController",type:"address"},{indexed:!0,name:"newSupplyController",type:"address"}],name:"SupplyControllerSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"seq",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"}],name:"BetaDelegatedTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldWhitelister",type:"address"},{indexed:!0,name:"newWhitelister",type:"address"}],name:"BetaDelegateWhitelisterSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"newDelegate",type:"address"}],name:"BetaDelegateWhitelisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldDelegate",type:"address"}],name:"BetaDelegateUnwhitelisted",type:"event"}]});t._RF.pop()}}}));

System.register("chunks:///_virtual/ACtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletCtrl.ts","./Utils.ts","./BulletPool.ts"],(function(t){var e,r,i,n,o,s,l,u,c,a,h,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.log,a=t.Component},function(t){h=t.BulletCtrl},function(t){f=t.default},function(t){p=t.BulletPool}],execute:function(){var d,B,m,y,g;s._RF.push({},"781e3tns/dLupYvS9ixWBvq","ACtrl",void 0);var v=l.ccclass,_=l.property;t("ACtrl",(d=v("ACtrl"),B=_(u),d((g=e((y=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"bulletPrefab",g,n(e)),e._B=null,e.ArcheryGame=void 0,e.timer=0,e._cd=1,e}r(e,t);var s=e.prototype;return s.start=function(){},s.update=function(t){if(this.timer+=t,this.timer>this.cd){if(0==this.ArcheryGame.Bs.length)return;this.B=this.ArcheryGame.Bs[f.randomNum(0,this.ArcheryGame.Bs.length-1)],this.fire(),this.timer=0}},s.fire=function(){var t;if(this.B){var e=null==(t=p.getNode())?void 0:t.node;e.parent=this.node.parent.parent,e.setPosition(this.node.parent.position),e.getComponent(h).setTarget(this.B)}else c("B is null")},o(e,[{key:"B",get:function(){return this._B},set:function(t){this._B=t}},{key:"cd",get:function(){return this._cd},set:function(t){this._cd=t,this.timer=0}}]),e}(a)).prototype,"bulletPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArcheryCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){var s,i,e,r,h,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,r=t.Vec3,h=t.log,n=t.Component},function(t){o=t.default}],execute:function(){var a;i._RF.push({},"708d7e/LvpHuYCLhGb1zr0r","ArcheryCtrl",void 0);var _=t("WEAPON_FLY_TYPE",function(t){return t[t.LEFT_PARABOL=0]="LEFT_PARABOL",t[t.RIGHT_PARABOL=1]="RIGHT_PARABOL",t[t.LINE=2]="LINE",t}({})),d=e.ccclass,l=(e.property,new r);t("ArcheryCtrl",d("ArcheryCtrl")(a=function(t){function i(){for(var s,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(s=t.call.apply(t,[this].concat(e))||this)._g=-10,s._shotSpeed=100,s._speed=null,s._gravity=null,s._currAngle=null,s._dTime=0,s._flyType=-1,s._dir=1,s._isMoving=!1,s.startPos=void 0,s.endPos=void 0,s}s(i,t);var e=i.prototype;return e.onLoad=function(){this._speed=new r,this._gravity=new r,this._currAngle=new r},e.launchWeapon=function(t,s,i){this.startPos=s,this.endPos=i,this._flyType=t,this._dTime=0,this.node.setWorldPosition(this.startPos),r.subtract(l,this.startPos,this.endPos);var e=l.length()/this._shotSpeed;this._dir=this._flyType===_.LEFT_PARABOL?-1:1;var n,o=0;switch(this._flyType){case _.LINE:o=.5*this._g*e;break;default:n=.5*this._g*e*this._dir}this._speed=new r((this.endPos.x-this.startPos.x)/e-n,(this.endPos.y-this.startPos.y)/e-o,(this.endPos.z-this.startPos.z)/e),h("ArcheryCtrl this._speed: ",this._speed),r.zero(this._gravity),this._isMoving=!0},e.update=function(t){if(this._isMoving){this._flyType===_.LINE?this._gravity.y=this._g*(this._dTime+=t):this._gravity.x=this._g*(this._dTime+=t*this._dir);var s=this.node.getWorldPosition();r.add(l,this._speed,this._gravity),r.multiplyScalar(l,l,t),r.add(s,s,l),this._flyType===_.LINE?this._currAngle.x=Math.atan((this._speed.y+this._gravity.y)/this._speed.z)*o.Rad2Deg:this._currAngle.y=Math.atan((this._speed.x+this._gravity.x)/this._speed.z)*o.Rad2Deg,this.node.setWorldPosition(s),r.subtract(l,this.endPos,s),l.length()<=3&&this.arriveTarget()}},e.arriveTarget=function(){this._isMoving=!1,console.warn("达到终点～～～～～～～～～～～")},i}(n))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ArcheryGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./ACtrl.ts","./BPool.ts","./BulletPool.ts","./UIManager.ts","./UIConfig.ts"],(function(t){var e,n,i,o,r,s,a,c,u,l,f,h,p,y,d,m,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,u=t.Prefab,l=t.instantiate,f=t.log,h=t.Component},function(t){p=t.default},function(t){y=t.ACtrl},function(t){d=t.BPool},function(t){m=t.BulletPool},function(t){b=t.uiManager},function(t){g=t.UIID}],execute:function(){var B,A,P,C,_,v,I;s._RF.push({},"bb095872gpIIKZUl0Z5cspo","ArcheryGame",void 0);var N=a.ccclass,z=a.property;t("ArcheryGame",(B=N("ArcheryGame"),A=z(c),P=z(u),B((v=e((_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).As=[],e._Bs=[],i(e,"seats",v,o(e)),i(e,"APrefab",I,o(e)),e.timer=0,e.cd=.2,e.bMaxCount=50,e.bBulletCount=8,e}n(e,t);var s=e.prototype;return s.onLoad=function(){d.init(this.bMaxCount),m.init(this.bBulletCount)},s.start=function(){for(var t=0;t<this.seats.length;t++){var e=this.seats[t],n=l(this.APrefab);n.setParent(e),n.setPosition(0,0,0),n.getComponent(y).ArcheryGame=this,this.As.push(n)}},s.addB=function(){},s.update=function(t){if(this.timer+=t,this.timer>this.cd){if(this.timer=0,this._Bs.length>=this.bMaxCount)return;var e=d.getNode();e?(e.node.parent=this.node,e.ArcheryGame=this,e.node.setPosition(p.randomNum(-100,100),p.randomNum(-100,100),0),e.init(),this._Bs.push(e)):f("创建失败！")}},s.launchJT=function(){},s.delB=function(t){this._Bs=this._Bs.filter((function(e){return e!=t}))},s.onDestroy=function(){m.finalize(),d.finalize()},s.onNotice=function(){console.log("onNotice"),b.open(g.ArcheryNotice)},s.onPay=function(){console.log("onPay"),b.open(g.ArcheryPay)},r(e,[{key:"Bs",get:function(){return this._Bs},set:function(t){this._Bs=t}}]),e}(h)).prototype,"seats",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(_.prototype,"APrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayReplicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReplicatorFactory.ts","./SyncUtil.ts"],(function(t){var e,a,i,r,n,s,o,h,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.createForOfIteratorHelperLoose,i=t.initializerDefineProperty},function(t){r=t.cclegacy},function(t){n=t.createReplicator},function(t){s=t.isEqual,o=t.customRandom,h=t.getConsturctor,l=t.replicated}],execute:function(){t({TestArrayLinkReplicator:function(){var t,a,r,n,h,g=(t=l(),a=l(),n=e((r=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),i(this,"x",n,this),i(this,"y",h,this),this.x=t,this.y=e}).prototype,"x",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=e(r.prototype,"y",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),r),c=[2,2,0,0];function f(t){for(var e=t.reduce((function(t,e){return t+e}),0),a=o()*e,i=-1,r=0;r<t.length;r++)if((a-=t[r])<0){i=r;break}return i}function u(t,e){for(var a=JSON.stringify(t),i=0;i<e;i++){var r=f(c),n=Math.floor(o()*t.length);switch(r){case 0:t.splice(n,0,new g(Math.floor(1e3*o()),Math.floor(1e3*o()))),console.log("performRandomOperations: insert 1 item at "+n+", length is "+t.length);break;case 1:t.length>0&&(t.splice(n,1),console.log("performRandomOperations: delete 1 item at "+n+", length is "+t.length));break;case 2:t.length>0&&(t[n].x=Math.floor(1e3*o()),t[n].y=Math.floor(1e3*o()),console.log("performRandomOperations: update item at "+n+", new value: ("+t[n].x.toFixed(2)+", "+t[n].y.toFixed(2)+")"));break;case 3:if(t.length>1){var s=(n+1)%t.length,h=[t[s],t[n]];t[n]=h[0],t[s]=h[1],console.log("performRandomOperations: swap items at "+n+" and "+s)}}}console.log("performRandomOperations befor : "+a),console.log("performRandomOperations after : "+JSON.stringify(t)),console.log("perform end ================================================")}function d(t,e,a,i,r,n){var o=a.genDiff(r,n);console.log(JSON.stringify(o)),console.log(JSON.stringify(t)),i.applyDiff(o),s(t,e)||(console.log(JSON.stringify(e)),console.error("source != target"))}for(var v=[new g(1,2),new g(3,4)],y=[new g(1,2),new g(3,4)],D=[new g(1,2),new g(3,4)],w=new p(v),m=new p(y),S=new p(D),V=0,x=0,M=0;M<500;M++){console.log("performTest: version i = "+M+" =========="),u(v,Math.floor(10*o())+1);var A=Math.floor(5*o())+1,b=Math.floor(5*o())+1;M%A==0&&(console.log("performTest: version1 = "+V+", endVersion1 = "+(M+1)+"************************"),d(v,y,w,m,V,M+1),V=M+1),M%b==0&&(console.log("performTest: version2 = "+x+", endVersion2 = "+(M+1)+"************************"),d(v,D,w,S,x,M+1),x=M+1)}},TestArrayLinkReplicatorSimple:function(){var t,a,r,n,o,h=(t=l(),a=l(),n=e((r=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),i(this,"x",n,this),i(this,"y",o,this),this.x=t,this.y=e}).prototype,"x",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=e(r.prototype,"y",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),r),g=[new h(1,2),new h(3,4)],c=new p(g),f=[new h(1,2),new h(3,4)],u=new p(f);g.push(new h(5,6)),g.push(new h(7,8)),g[0].x=10,g[1].y=20,g.length=0;var d=c.genDiff(0,1);c.genDiff(0,1);console.log(JSON.stringify(d)),console.log(JSON.stringify(g)),u.applyDiff(d),console.log(JSON.stringify(f)),s(g,f)||console.error("source != target");g.splice(1,2),d=c.genDiff(1,2),console.log(JSON.stringify(d)),console.log(JSON.stringify(g)),u.applyDiff(d),console.log(JSON.stringify(f)),s(g,f)||console.error("source != target");var v=[g[1],g[0]];g[0]=v[0],g[1]=v[1];var y=[new h(1,2),new h(3,4)],D=new p(y);d=c.genDiff(0,3),console.log(JSON.stringify(d)),console.log(JSON.stringify(g)),D.applyDiff(d),console.log(JSON.stringify(y)),s(g,y)||console.error("source != target2")},TestArrayReplicator:function(){var t,a,r,n,s,o=(t=l(),a=l(),n=e((r=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),i(this,"x",n,this),i(this,"y",s,this),this.x=t,this.y=e}).prototype,"x",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=e(r.prototype,"y",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),r),h=[new o(1,2),new o(3,4)],g=new c(h),f=[new o(1,2),new o(3,4)],u=new c(f);h.push(new o(5,6)),h.push(new o(7,8)),h[0].x=10,h[1].y=20,console.log(h);var p=g.genDiff(0,1);console.log(p),u.applyDiff(p),console.log(f),h.splice(1,2),p=g.genDiff(1,2),console.log(p),u.applyDiff(p),console.log(h),console.log(f);var d=[new o(1,2),new o(3,4)],v=new c(d);p=g.genDiff(0,2),console.log(p),v.applyDiff(p),console.log(h),console.log(d)},TestSimpleArrayReplicator:function(){var t=[1,2,3,4,5],e=new g(t),a=[1,2,3,4,5],i=new g(a);t.push(6),t.push(7),t.splice(1,0,8),t.splice(3,1);var r=t[3];t[3]=t[4],t[4]=r;var n=e.genDiff(0,1);console.log(n),i.applyDiff(n),console.log(t),console.log(a)},TestSimpleArrayReplicatorVersion:function(){var t=[],e=new g(t),a=[],i=new g(a),r=[],n=new g(r);t.push(1,3,5);var s=e.genDiff(0,1);console.log(s),i.applyDiff(s),console.log(t),console.log(a),t.push(2,4,6),t.splice(0,0,1);var o=e.genDiff(1,2);console.log(o),i.applyDiff(o),console.log(t),console.log(a),t.splice(0,1),t.push(7,8,9);var h=e.genDiff(0,3);console.log(h),n.applyDiff(h),console.log(t),console.log(r);var l=e.genDiff(2,3);console.log(l),i.applyDiff(l),console.log(a)}}),r._RF.push({},"27c03mHiJFOMZJuy29gkYWD","ArrayReplicator",void 0);var g=t("SimpleArrayReplicator",function(){function t(t,e){this.lastVersion=0,this.lastCheckVersion=0,this.lastLengthVersion=0,this.data=void 0,this.target=void 0,this.target=t,this.data=[],this.makeUpDataArray(t,e)}var e=t.prototype;return e.makeUpDataArray=function(t,e){for(var a=0;a<t.length;a++)this.data.push({version:0,data:t[a]})},e.getTarget=function(){return this.target},e.setTarget=function(t){this.target=t},e.genDiff=function(t,e){if(e<t)return!1;var a=this.lastCheckVersion<e;if(!a&&t>this.lastVersion)return!1;if(a){var i=[this.target.length],r=this.data.length!=this.target.length;r&&(this.lastLengthVersion=e),this.data.length>this.target.length&&this.data.splice(this.target.length,this.data.length-this.target.length);for(var n=0;n<this.target.length;n++)this.data.length<=n?(this.data.push({version:e,data:this.target[n]}),i.push(n,this.target[n])):this.data[n].data!=this.target[n]?(this.data[n].version=e,this.data[n].data=this.target[n],i.push(n,this.target[n])):this.data[n].version>=t&&this.data[n].version<=e&&i.push(n,this.target[n]);return this.lastCheckVersion=e,r||1!=i.length?(this.lastVersion=e,i):!1}for(var s=[this.target.length],o=0;o<this.data.length;o++)this.data[o].version>=t&&this.data[o].version<=e&&s.push(o,this.data[o].data);return!(this.lastLengthVersion<t&&1==s.length)&&s},e.applyDiff=function(t){if(t instanceof Array){var e=t[0];e<this.target.length&&this.target.splice(e,this.target.length-e);for(var a=1;a<t.length;a+=2){var i=t[a],r=t[a+1];i>=this.target.length?this.target.push(r):this.target[i]=r}}},e.getVersion=function(){return this.lastVersion},t}());var c=t("ArrayReplicator",function(){function t(t,e){this.data=void 0,this.target=void 0,this.lastVersion=0,this.lastCheckVersion=0,this.ctor=void 0;var a=null==e?void 0:e.getObjMark();null!=a&&a.Constructor?this.ctor=null==a?void 0:a.Constructor:this.ctor=h(t[0]),this.target=t,this.data=[],this.makeUpDataArray(t,e)}var e=t.prototype;return e.getTarget=function(){return this.target},e.setTarget=function(t){this.target=t},e.pushData=function(t,e,a){var i=n(t,a);i?this.data.push({version:e,index:this.data.length,data:i}):console.error("ArrayReplicator.pushData createReplicator error:",t)},e.makeUpDataArray=function(t,e){for(var a=0;a<t.length;++a)this.pushData(t[a],this.lastVersion,e)},e.genDiff=function(t,e){if(e<t)return!1;if(0==this.target.length&&0==this.data.length)return!1;var a=this.lastCheckVersion<e;if(!a&&t>this.lastVersion)return!1;var i=[];if(a){i.push(this.target.length);for(var r=0;r<this.target.length;r++)if(this.data.length<=r)this.pushData(this.target[r],e),i.push(r,this.data[r].data.genDiff(-1,e));else{var n=this.data[r].data;n.getTarget()!=this.target[r]&&n.setTarget(this.target[r]);var s=n.genDiff(t,e);s&&i.push(r,s)}this.lastCheckVersion=e}else{i.push(this.data.length);for(var o=0;o<this.data.length;o++){var h=this.data[o].data;if(this.data[o].version>t)i.push(o,h.genDiff(-1,e));else{var l=h.genDiff(t,e);l&&i.push(o,l)}}}return(1!=i.length||i[0]!=this.data.length)&&(this.lastVersion=e,this.data.length>this.target.length&&this.data.splice(this.target.length,this.data.length-this.target.length),i)},e.applyDiff=function(t){if(t instanceof Array){var e=t[0];e<this.target.length&&this.target.splice(e,this.target.length-e);for(var a=1;a<t.length;a+=2){var i=t[a],r=t[a+1];if(i>=this.target.length){this.target.push(new this.ctor);var s=n(this.target[i]);s&&this.data.push({version:this.lastVersion,data:s,index:i})}this.data[i].data.applyDiff(r)}}},e.getVersion=function(){return this.lastVersion},t}());var f=function(t){return t[t.Insert=0]="Insert",t[t.Delete=1]="Delete",t[t.BatchInsert=2]="BatchInsert",t[t.BatchDelete=3]="BatchDelete",t[t.BatchMove=4]="BatchMove",t[t.Clear=5]="Clear",t[t.Update=6]="Update",t}(f||{}),u=function(t){return t[t.Full=0]="Full",t[t.NoSwap=1]="NoSwap",t}(u||{}),p=t("ArrayLinkReplicator",function(){function t(t,e,a){void 0===a&&(a=u.Full),this.data=void 0,this.dataIndexMap=void 0,this.target=void 0,this.actionSequence=[],this.lastVersion=0,this.lastCheckVersion=0,this.sequenceGenerator=void 0,this.ctor=void 0;var i=null==e?void 0:e.getObjMark();null!=i&&i.Constructor?this.ctor=null==i?void 0:i.Constructor:this.ctor=h(t[0]),this.target=t,this.data=[],this.dataIndexMap=new Map,u.NoSwap==a?this.sequenceGenerator=this.genActionSequenceNoSwap:this.sequenceGenerator=this.genActionSequenceFull,this.makeUpDataArray(t,e)}var e=t.prototype;return e.getTarget=function(){return this.target},e.setTarget=function(t){this.target=t},e.pushData=function(t,e,a){var i=n(t,a);i?this.data.push({version:e,data:i,index:this.data.length}):console.error("ArrayReplicator.pushData createReplicator error:",t)},e.insertData=function(t,e,a,i){var r=n(t,i);r?this.data.splice(e,0,{version:a,data:r,index:e}):console.error("ArrayReplicator.insertData createReplicator error:",t)},e.makeUpDataArray=function(t,e){for(var a=0;a<t.length;++a)this.pushData(t[a],this.lastVersion,e),this.dataIndexMap.set(t[a],a)},e.clearActionSequence=function(t,e){for(var a=-1,i=-1,r=0;r<e.length;++r){var n=e[r],s=e[r+1];if(f.BatchInsert==n&&s==t&&(a=r),++r,s>t&&(e[r]=s-1),f.BatchMove==n){var o=e[++r];o>t?e[r]=o-1:o==t&&(i=s)}}return a>=0?(e.splice(a,2),-1):i>=0?i:t},e.mergeActionSequence=function(t){},e.getActionIndex=function(t){for(var e=0,a=this.actionSequence.length-1;e<=a;){var i=Math.floor((e+a)/2);if(this.actionSequence[i].version==t)return i;this.actionSequence[i].version<t?e=i+1:a=i-1}return e},e.genActionSequenceFull=function(){var t=[];if(0==this.target.length)return this.dataIndexMap.clear(),this.data.length=0,[f.Clear];for(var e=new Map,i=[],r=[],n=0;n<this.target.length;++n){var s=this.target[n];null==this.dataIndexMap.get(s)?i.push(n):this.dataIndexMap.delete(s),e.set(s,n)}if(this.dataIndexMap.forEach((function(t,e){r.push(t)})),r.length>0){t.push.apply(t,[f.BatchDelete,r.length].concat(r.sort((function(t,e){return e-t}))));for(var o,h=a(r);!(o=h()).done;){var l=o.value,g=this.data.splice(l,1);1!=g.length&&console.error("Gen Action: =========== delCnt.length != 1, delCnt.length="+g.length)}}if(i.length>0){t.push.apply(t,[f.BatchInsert,i.length].concat(i));for(var c,u=a(i);!(c=u()).done;){var p=c.value;this.insertData(this.target[p],p,this.lastVersion)}}this.data.length!=this.target.length&&console.error("Gen Action: =========== this.data.length != this.target.length, this.data.length="+this.data.length+", this.target.length="+this.target.length);for(var d=[],v=0;v<this.data.length;++v)for(;;){var y=this.data[v].data.getTarget(),D=e.get(y);if(void 0===D||D==v)break;d.push(v,D);var w=[this.data[D],this.data[v]];this.data[v]=w[0],this.data[D]=w[1]}return d.length>0&&t.push.apply(t,[f.BatchMove,d.length/2].concat(d)),this.dataIndexMap=e,t},e.genActionSequenceNoSwap=function(){var t=[];if(0==this.target.length)return this.dataIndexMap.clear(),this.data.length=0,[f.Clear];for(var e=0;e<this.target.length;++e){var a=this.target[e];if(null==this.dataIndexMap.get(a))t.push(f.Insert,e),this.insertData(a,e,this.lastVersion),this.dataIndexMap.set(a,e);else for(;;){var i=this.data[e].data.getTarget();if(i===a)break;t.push(f.Delete,e),this.data.splice(e,1),this.dataIndexMap.delete(i)}}if(this.data.length>this.target.length){for(var r=this.target.length;r<this.data.length;++r){var n=this.data[r].data.getTarget();t.push(f.Delete,r),this.dataIndexMap.delete(n)}this.data.splice(this.target.length,this.data.length-this.target.length)}return this.data.length!=this.target.length&&console.error("Gen Action: =========== this.data.length != this.target.length, this.data.length="+this.data.length+", this.target.length="+this.target.length),t},e.genDiff=function(t,e){if(e<t)return!1;var a=this.lastCheckVersion<e;if(!a&&t>this.lastVersion)return!1;if(a){var i=this.sequenceGenerator();if(this.lastCheckVersion=e,i.length>0){if(i[0]==f.Clear)return this.actionSequence=[{version:e,actions:i}],this.lastVersion=e,i;this.actionSequence.push({version:e,actions:i})}}var r=0;t>0&&(r=this.getActionIndex(t+1));for(var n=this.actionSequence.length,s=[],o=r;o<n;++o)s.push.apply(s,this.actionSequence[o].actions);for(var h=[],l=0;l<this.data.length;++l){this.data[l].version>t&&(t=0);var g=this.data[l].data.genDiff(t,e);g&&h.push(l,g)}return h.length>0&&s.push.apply(s,[f.Update].concat(h)),s.length>0&&(this.lastVersion=e),s},e.applyDiff=function(t){if(t instanceof Array)for(var e=0;e<t.length;++e){var a=t[e];if(a==f.Insert){var i=t[++e],r=new this.ctor;this.target.splice(i,0,r),this.insertData(r,i,this.lastVersion),console.log("insert item at "+i+", i = "+e)}else if(a==f.Delete){var n=t[++e];this.data.splice(n,1),this.target.splice(n,1),console.log("delete item at "+n+", i = "+e)}else if(a==f.BatchInsert){for(var s=t[++e],o="insert "+s+" items at ",h=0;h<s;++h){var l=t[++e];o+=l+", ";var g=new this.ctor;this.target.splice(l,0,g),this.insertData(g,l,this.lastVersion)}console.log(o+" i = "+e)}else if(a==f.BatchDelete){for(var c=t[++e],u="delete "+c+" items at ",p=0;p<c;++p){var d=t[++e];u+=d+", ",this.data.splice(d,1),this.target.splice(d,1)}console.log(u+" i = "+e)}else if(a==f.BatchMove){for(var v=t[++e],y="move "+v+" items from ",D=0;D<v;++D){var w=t[++e],m=t[++e],S=[this.data[m],this.data[w]];this.data[w]=S[0],this.data[m]=S[1];var V=[this.target[m],this.target[w]];this.target[w]=V[0],this.target[m]=V[1],y+=w+" to "+m+", "}console.log(y+" i = "+e)}else{if(a==f.Update){for(var x=e+1;x<t.length;x+=2){var M=t[x],A=t[x+1];this.data[M].data.applyDiff(A)}break}a==f.Clear&&(this.target.length=0,this.data.length=0)}}},e.getVersion=function(){return this.lastVersion},e.debugCheck=function(){this.data.length!=this.target.length&&console.error("this.data.length != this.target.length");for(var t=0;t<this.data.length;++t)this.data[t].data.getTarget()!=this.target[t]&&console.error("this.data["+t+"].target != this.target["+t+"]"),this.dataIndexMap.get(this.target[t])!=t&&console.error("this.dataIndexMap.get(this.target[i]) != i")},e.debugData=function(){for(var t=[],e=0;e<this.data.length;++e)t.push(this.data[e].data.getTarget());console.log(JSON.stringify(t)),console.log(JSON.stringify(this.target))},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/BCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BPool.ts"],(function(t){var e,i,s,r,o,n,a,h,c,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.v2,h=t.v3,c=t.view,l=t.Component},function(t){d=t.BPool}],execute:function(){var u,p,f;o._RF.push({},"26cc4a99+NDN6bl+OQspFOr","BCtrl",void 0);var g=n.ccclass,y=n.property;t("BCtrl",g("BCtrl")((f=e((p=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,s(e,"speed",f,r(e)),e.isDead=!0,e.ArcheryGame=void 0,e._targetPos=a(0,0),e}i(e,t);var o=e.prototype;return o.start=function(){},o.init=function(){this.isDead=!1,this._refreshTargetPos()},o.update=function(t){if(!this.isDead){this.node.getPosition().equals(h(this._targetPos.x,this._targetPos.y),this.speed)&&this._refreshTargetPos();var e=a(this._targetPos).subtract(a(this.node.position.x,this.node.position.y)).normalize().multiply(a(this.speed,this.speed)),i=this.node.position.add(h(e.x,e.y,0));this.node.setPosition(i)}},o._refreshTargetPos=function(){var t=c.getDesignResolutionSize();this._targetPos.x=Math.random()*t.width*.8-.8*t.width/2,this._targetPos.y=Math.random()*t.height*.4-.4*t.height/2},o.beHit=function(){this.isDead||(this.isDead=!0,this.ArcheryGame.delB(this),d.freeNode(this))},e}(l)).prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),u=p))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/BPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePool.ts","./BCtrl.ts"],(function(o){var t,n,e,r,i,u;return{setters:[function(o){t=o.asyncToGenerator,n=o.regeneratorRuntime},function(o){e=o.cclegacy,r=o.log},function(o){i=o.NodePool},function(o){u=o.BCtrl}],execute:function(){e._RF.push({},"8b8b72G32tB254EWGXZFm88","BPool",void 0);var l=o("BPool",function(){function o(){}return o.init=function(){var o=t(n().mark((function o(t){var e=this;return n().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===t&&(t=50),this._BPool){o.next=5;break}return this._BPool=new i,this._BPool.setWaterMark(t),o.abrupt("return",new Promise((function(o,t){e._BPool.init("Prefab/game/archery/B",(function(t){e._BReady=!0,o(null)}))})));case 5:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),o.getNode=function(){if(!this._BReady)return null;var o=this._BPool.getNode();return o?o.isValid?o.getComponent(u):(r(o),null):null},o.freeNode=function(o){this._BReady&&this._BPool.freeNode(o.node)},o.finalize=function(){this._BPool&&(this._BPool.destory(),this._BPool=null)},o}());l._BPool=null,l._BReady=!1,e._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletPool.ts"],(function(t){var e,i,o,n,s,r,l,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,n=t.Vec3,s=t.v3,r=t.v2,l=t.misc,a=t.Component},function(t){u=t.BulletPool}],execute:function(){var c;i._RF.push({},"82c10IaAnhJorQAMGsoz1LI","BulletCtrl",void 0);var h=o.ccclass;o.property,t("BulletCtrl",h("BulletCtrl")(c=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).target=null,e.speed=10,e.hitDistance=20,e}e(i,t);var o=i.prototype;return o.setTarget=function(t){this.target=t},o.start=function(){},o.update=function(t){if(null==this.target||null==this.target.node||this.target.isDead)u.freeNode(this);else{if(this.node.position.equals(this.target.node.position,this.hitDistance))return this.target.beHit(),this.target=null,void u.freeNode(this);var e=new n(this.target.node.position).subtract(this.node.position);this.node.position=this.node.position.add(e.normalize().multiply(s(this.speed,this.speed,0))),this.lookAtObj(this.target.node)}},o.lookAtObj=function(t){var e=t.position.x-this.node.position.x,i=t.position.y-this.node.position.y,o=r(e,i);this.node.angle=l.radiansToDegrees(r(0,-1).signAngle(o))-90},i}(a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/BulletPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePool.ts","./BulletCtrl.ts"],(function(t){var e,l,o,n,u;return{setters:[function(t){e=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){n=t.NodePool},function(t){u=t.BulletCtrl}],execute:function(){o._RF.push({},"f2c749tt3BJcpvusnCEeIom","BulletPool",void 0);var r=t("BulletPool",function(){function t(){}return t.init=function(){var t=e(l().mark((function t(e){var o=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=50),this._BulletPool){t.next=5;break}return this._BulletPool=new n,this._BulletPool.setWaterMark(e),t.abrupt("return",new Promise((function(t,e){o._BulletPool.init("Prefab/game/archery/bullet",(function(e){o._BulletReady=!0,t(null)}))})));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t.getNode=function(){if(!this._BulletReady)return null;var t=this._BulletPool.getNode();return t?t.getComponent(u):null},t.freeNode=function(t){this._BulletReady&&this._BulletPool.freeNode(t.node)},t.finalize=function(){this._BulletPool&&(this._BulletPool.destory(),this._BulletPool=null)},t}());r._BulletPool=null,r._BulletReady=!1,o._RF.pop()}}}));

System.register("chunks:///_virtual/ClientReplicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeSync.ts"],(function(e){var n,t,a,r,o,i,s,c,p,u,l,f;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,a=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,i=e._decorator,s=e.resources,c=e.Prefab,p=e.Component,u=e.Vec3,l=e.instantiate},function(e){f=e.NodeSync}],execute:function(){var d;o._RF.push({},"002beQvliJMGKICkX+WTPw+","ClientReplicator",void 0);var h=i.ccclass;i.property,e("ClientReplicator",h("ClientReplicator")(d=function(e){function o(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).instanceMap=new Map,n}n(o,e);var i=o.prototype;return i.loadPrefab=function(e){return new Promise((function(n,t){s.load(e,c,(function(e,a){e?t(e):n(a)}))}))},i.syncInstances=function(){var e=t(a().mark((function e(n){var t,o,i,s,c,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r(n);case 1:if((o=t()).done){e.next=16;break}if(i=o.value,s=this.instanceMap.get(i.instanceId)){e.next=11;break}return e.next=7,this.loadPrefab(i.prefabPath);case 7:c=e.sent,s=l(c),(p=s.getComponent(f))&&(p.setInstanceId(i.instanceId),p.setPrefabPath(i.prefabPath),this.node.addChild(s),this.instanceMap.set(i.instanceId,s));case 11:s.setPosition(new u(i.position.x,i.position.y,i.position.z)),i.data&&(d=s.getComponent(f))&&d.applyDiff(i.data),console.log("sync instance "+i.instanceId);case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),o}(p))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/CocosReplicator.ts",["cc"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy,i=t.Vec3}],execute:function(){e._RF.push({},"6ffb0btpbVDk5t+2G428xjv","CocosReplicator",void 0);t("CCVec3Replicator",function(){function t(t){this.data=void 0,this.target=void 0,this.version=void 0,this.target=t,this.data=t.clone(),this.version=0}var e=t.prototype;return e.getTarget=function(){return this.target},e.setTarget=function(t){t instanceof i&&(this.target=t)},e.genDiff=function(t,e){return!(e<t)&&(!this.target.equals(this.data)&&(this.data.set(this.target),this.version=e,[this.target.x,this.target.y,this.target.z]))},e.applyDiff=function(t){t&&this.target.set(t[0],t[1],t[2])},e.getVersion=function(){return this.version},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DiffScaner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReplicateMark.ts","./ReplicatorFactory.ts"],(function(t){var e,a,i,r;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy},function(t){i=t.getReplicateMark},function(t){r=t.createReplicator}],execute:function(){a._RF.push({},"9fd15mCEpNH3rOht7rmGPOQ","DiffScaner",void 0);t("ReplicateScanner",function(){function t(t,e){this.lastVersion=0,this.lastCheckVersion=0,this.target=null,this.dataMap=new Map,this.target=t,this.makeUpDataMap(t,e)}var a=t.prototype;return a.makeUpDataMap=function(t,a){if(void 0===a&&(a=i(t.__proto__,!1)),a)for(var n,s=a.getMarks(),o=e(s);!(n=o()).done;){var f=n.value,c=f[0],p=f[1],l=void 0;if((l=void 0===p.def?t[c]:p.def)instanceof Object){var u,h=i(l,!0,null==(u=p.option)?void 0:u.ObjectOption);l=r(t[c],h)}var d={data:l,version:0};p.option&&p.option.Setter&&(d.setter=p.option.Setter),this.dataMap.set(c,d)}},a.getTarget=function(){return this.target},a.setTarget=function(t){this.target=t},a.genDiff=function(t,a){if(a<t||null===this.target)return!1;var i=this.lastCheckVersion<a;if(!i&&t>this.lastVersion)return!1;for(var r,n={},s=!1,o=!1,f=e(this.dataMap);!(r=f()).done;){var c=r.value,p=c[0],l=c[1],u=p;if(l.data instanceof Object&&"genDiff"in l.data){var h=l.data.genDiff(t,a);h&&(n[u]=h,s=!0)}else i&&l.data!=this.target[p]?(l.data=this.target[p],n[u]=l.data,l.version=a,s=!0):l.version>t&&(n[u]=l.data,o=!0)}if(this.lastCheckVersion=a,s)this.lastVersion=a;else if(!o)return!1;return n},a.applyDiff=function(t){for(var e=0,a=Object.keys(t);e<a.length;e++){var i=a[e],r=this.dataMap.get(i);r&&(r.setter&&"function"==typeof this.target[r.setter]?this.target[r.setter].apply(this.target,t[i]):r.data instanceof Object&&"applyDiff"in r.data?r.data.applyDiff(t[i]):this.target[i]=t[i])}},a.getVersion=function(){return this.lastVersion},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/DiffTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SyncUtil.ts"],(function(t){var e,a;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy},null],execute:function(){a._RF.push({},"bf718vVp5ZJALUNVk1pb8d1","DiffTrigger",void 0);t("ReplicateTrigger",function(){function t(t,e){this.lastCheckVersion=0,this.target=null,this.dataMap=new Map,this.hasNewChange=!1,this.outter=null,this.outterKey="",this.target=t}var a=t.prototype;return a.getProperty=function(t){var e=this.dataMap.get(t);return e?e.data:e},a.getTarget=function(){return this.target},a.setTarget=function(t){this.target=t},a.propertyChanged=function(t,e,a){var i=this.dataMap.get(t),r=1!=a;if(i){if(e===i.data)return;i.changed=r,void 0===e&&i.data instanceof Object||(i.data=e)}else i={version:0,data:e,changed:r},this.dataMap.set(t,i);i.data instanceof Object&&i.data.setOutter(this,t),!this.hasNewChange&&i.changed&&(this.outter&&"propertyChanged"in this.outter&&this.outter.propertyChanged(this.outterKey),this.hasNewChange=!0)},a.genDiff=function(t,a){if(a<t||null===this.target)return!1;if(!this.hasNewChange&&t>this.lastCheckVersion)return!1;for(var i,r={},n=e(this.dataMap);!(i=n()).done;){var s=i.value,h=s[0],o=s[1];if(o.changed)o.changed=!1,o.version=a;else if(o.version<t)continue;var f=o.setter||h;if("genDiff"in o.data){var u=o.data.genDiff(t,a);u&&(r[f]=u)}else r[f]=o.data}return this.lastCheckVersion=a,r},a.applyDiff=function(t){for(var e=0,a=Object.keys(t);e<a.length;e++){var i=a[e];if("function"==typeof this.target[i])this.target[i](t[i]);else{var r=this.dataMap.get(i);r instanceof Object&&"applyDiff"in r.data?r.data.applyDiff(t[i]):this.target[i]=t[i]}}},a.getVersion=function(){return this.lastCheckVersion},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/Ethers02Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"14901V5vKpOjIX/hDyIpb+9","Ethers02Utils",void 0);var s={ChainId:97,ChainName:"BSC Test",RpcUrl:"https://data-seed-prebsc-1-s3.binance.org:8545/",ExplorerUrl:"https://testnet.bscscan.com/",Token_USDTAddress:"0xeD24FC36d5Ee211Ea25A80239Fb8C4Cfd80f12Ee"};e("Ethers02Utils",{provider:null,signer:null,address:"",ethereum:null,ChainParams:s,connectWallet:function(){var e=this;return r(t().mark((function r(){var n;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(window.ethereum){r.next=4;break}return console.log("未安装好metamask?"),r.abrupt("return",null);case 4:return e.provider=new ethers.providers.JsonRpcProvider("https://holesky.infura.io/v3/59009aa01602473c92b42432f2208464"),console.log("provider: ",e.provider),r.next=8,e.provider.getNetwork();case 8:n=r.sent,console.log("networkData:",n);case 10:case"end":return r.stop()}}),r)})))()},switchChainId:function(){this.ethereum&&this.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:s.ChainId,chainName:s.ChainName,rpcUrls:[s.RpcUrl],blockExplorerUrls:[s.ExplorerUrl]}]}).then((function(e){location.reload()})).catch((function(e){}))}});n._RF.pop()}}}));

System.register("chunks:///_virtual/EthersUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"c18e1duVO5Ht4iTP1mN5970","EthersUtils",void 0);var s={ChainId:97,ChainName:"BSC Test",RpcUrl:"https://data-seed-prebsc-1-s3.binance.org:8545/",ExplorerUrl:"https://testnet.bscscan.com/",Token_USDTAddress:"0xeD24FC36d5Ee211Ea25A80239Fb8C4Cfd80f12Ee"};e("EthersUtils",{provider:null,signer:null,address:"",ethereum:null,ChainParams:s,connectWallet:function(){var e=this;return r(t().mark((function r(){var n,a,o,c,i,l;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=window.ethereum){r.next=4;break}return console.log("未安装好metamask?"),r.abrupt("return",null);case 4:return r.next=6,n.enable();case 6:return e.ethereum=n,e.provider=new ethers.providers.Web3Provider(n),r.next=10,e.provider;case 10:if(r.t0=r.sent,!r.t0){r.next=13;break}r.t0=e.provider.getSigner();case 13:return e.signer=r.t0,r.next=16,e.provider.getBlockNumber();case 16:return a=r.sent,console.log("blockNumber:",a),r.next=20,e.provider.getGasPrice();case 20:return o=r.sent,console.log("gasPrice:",o),r.next=24,e.provider.getBlock(0);case 24:return c=r.sent,console.log("block:",c),r.next=28,e.provider.getNetwork();case 28:if(i=r.sent,console.log("networkData:",i),l=i.chainId,console.log("chainId:",l),parseInt(l)==s.ChainId){r.next=38;break}return console.log("链不对"),e.switchChainId(),r.abrupt("return",null);case 38:return r.next=40,e.signer.getAddress();case 40:return e.address=r.sent,console.log("链接成功:address:",e.address),r.abrupt("return",e.address);case 43:case"end":return r.stop()}}),r)})))()},switchChainId:function(){this.ethereum&&this.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:s.ChainId,chainName:s.ChainName,rpcUrls:[s.RpcUrl],blockExplorerUrls:[s.ExplorerUrl]}]}).then((function(e){location.reload()})).catch((function(e){}))}});n._RF.pop()}}}));

System.register("chunks:///_virtual/EventId.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5d3c8L2nw5DTryivOlPgbUR","EventId",void 0);t("EventId",{TEST_01:"EventId.TEST_01"});e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,s,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e.warn,r=e.log}],execute:function(){n._RF.push({},"a1488lKaLVPY7mmQaZbeeZp","EventManager",void 0);var i=e("EventManager",function(){function e(){this._eventListeners={}}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.destroy=function(){this.instance&&(this.instance=null)};var n=e.prototype;return n.getEventListenersIndex=function(e,t,n){for(var s=-1,r=0;r<this._eventListeners[e].length;r++){var i=this._eventListeners[e][r];if(i.callBack==t&&(!n||i.target==n)){s=r;break}}return s},n.addEventListener=function(e,t,n){if(!e)return s("eventName is empty"+e),!1;if(null==t)return r("addEventListener callBack is nil"),!1;var i={callBack:t,target:n};null==this._eventListeners[e]?this._eventListeners[e]=[i]:-1==this.getEventListenersIndex(e,t,n)&&this._eventListeners[e].push(i);return!0},n.setEventListener=function(e,t,n){if(!e)return s("eventName is empty"+e),!1;if(null==t)return r("setEventListener callBack is nil"),!1;var i={callBack:t,target:n};return this._eventListeners[e]=[i],!0},n.removeEventListener=function(e,t,n){if(null!=this._eventListeners[e]){var s=this.getEventListenersIndex(e,t,n);-1!=s&&this._eventListeners[e].splice(s,1)}},n.raiseEvent=function(e,n){if(console.log("==================== raiseEvent "+e+" begin | "+JSON.stringify(n)),null!=this._eventListeners[e]){for(var s,r=[],i=t(this._eventListeners[e]);!(s=i()).done;){var a=s.value;r.push({callBack:a.callBack,target:a.target})}for(var l=0,c=r;l<c.length;l++){var v=c[l];v.callBack.call(v.target,e,n)}}console.log("==================== raiseEvent "+e+" end")},e}());i.instance=null;e("EventMgr",i.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameApp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,o;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n.Component}],execute:function(){t._RF.push({},"32435LbjJlLvY7rnjvrBkRk","GameApp",void 0),n("GameApp",function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onLoad=function(){null===t.Instance?t.Instance=this:this.destroy()},o.EnterGame=function(){console.log("EnterGame"),this.EnterLoginScene()},o.EnterLoginScene=function(){},t}(o)).Instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/GameCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var n,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.Singleton}],execute:function(){e._RF.push({},"83023Bm1d9A3Kgr0DswuYZr","GameCtrl",void 0);t("GameCtl",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(r()));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameLanch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameApp.ts","./PlayerModel.ts","./UIConfig.ts","./ResMgr.ts"],(function(n){var t,e,o,a,s,c,i,r,l,u,p,f;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,a=n.game,s=n.Game,c=n.profiler,i=n.v3,r=n.Component},function(n){l=n.GameApp},function(n){u=n.PlayerModel},function(n){p=n.UIConfig},function(n){f=n.ResMgr}],execute:function(){var d,h;e._RF.push({},"161981zrCFDVq66n2L9Jv8T","GameLanch",void 0);var m=o.ccclass;o.property,n("GameLanch",m("GameLanch")(((h=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onLoad=function(){null===e.Instance?(e.Instance=this,u.inst.init(),this.node.addComponent(f),this.node.addComponent(p),this.node.addComponent(l),a.once(s.EVENT_ENGINE_INITED,(function(){c._ctx.fillStyle="#f00",c._statsDone=!1,c.scale=i(.5,.5,.5),c.generateStats()})),c.hideStats()):this.destroy()},o.start=function(){console.log("GameLanch start"),l.Instance.EnterGame()},e}(r)).Instance=null,d=h))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){o=t.Singleton}],execute:function(){a._RF.push({},"39b58c63pdE65B036RDxdTD","GameModel",void 0);var r=t("GameStatus",function(t){return t[t.Loading=0]="Loading",t[t.Start=1]="Start",t[t.Pause=2]="Pause",t[t.Over=3]="Over",t}({}));t("GameModel",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this)._gameStatus=r.Loading,e}return e(a,t),a.prototype.init=function(){},n(a,[{key:"gameStatus",get:function(){return this._gameStatus},set:function(t){this._gameStatus=t}}]),a}(o()));a._RF.pop()}}}));

System.register("chunks:///_virtual/HashReplicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReplicatorFactory.ts","./SyncUtil.ts"],(function(e){var t,r,o,n,i,a,s,l,c;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,r=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){n=e.cclegacy},function(e){i=e.createReplicator},function(e){a=e.customRandom,s=e.isEqual,l=e.getConsturctor,c=e.replicated}],execute:function(){e({TestHashReplicator:function(){var e,t,n,i,l,h=(e=c(),t=c(),i=r((n=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),o(this,"x",i,this),o(this,"y",l,this),this.x=e,this.y=t}).prototype,"x",[e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=r(n.prototype,"y",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n),f=[4,2,2,1];function g(e){for(var t=e.reduce((function(e,t){return e+t}),0),r=a()*t,o=-1,n=0;n<e.length;n++)if((r-=e[n])<0){o=n;break}return o}function p(e,t){for(var r=Array.from(e).map((function(e){var t=e[0],r=e[1];return t+": "+JSON.stringify(r)})).join(","),o=0;o<t;o++){switch(g(f)){case 0:var n=Math.floor(1e3*a()),i=new h(Math.floor(1e3*a()),Math.floor(1e3*a()));e.set(n,i),console.log("performRandomOperations: insert 1 item "+n+" - "+JSON.stringify(i)+", length is "+e.size);break;case 1:if(e.size>0){var s=Math.floor(a()*e.size),l=[].concat(e)[s];e.delete(l[0]),console.log("performRandomOperations: delete 1 item "+l[0]+" - "+JSON.stringify(l[1])+", length is "+e.size)}break;case 2:if(e.size>0){var c=Math.floor(a()*e.size),u=[].concat(e)[c];u[1].x=Math.floor(1e3*a()),u[1].y=Math.floor(1e3*a()),console.log("performRandomOperations: update 1 item "+u[0]+" - "+JSON.stringify(u[1])+", length is "+e.size)}break;case 3:e.clear(),console.log("performRandomOperations: clear all items, length is "+e.size)}}console.log("performRandomOperations befor : "+r),console.log("performRandomOperations after : "+Array.from(e).map((function(e){var t=e[0],r=e[1];return t+": "+JSON.stringify(r)})).join(",")),console.log("perform end ================================================")}function v(e,t,r,o,n,i){var a=r.genDiff(n,i);console.log(JSON.stringify(a)),console.log(Array.from(e).map((function(e){var t=e[0],r=e[1];return t+": "+JSON.stringify(r)})).join(",")),o.applyDiff(a),s(e,t)||(console.log(Array.from(e).map((function(e){var t=e[0],r=e[1];return t+": "+JSON.stringify(r)})).join(",")),console.error("source != target"))}for(var d=new Map([[1,new h(1,1)],[2,new h(2,2)],[3,new h(3,3)],[4,new h(4,4)],[5,new h(5,5)]]),y=new Map(d),m=new Map(d),k=new u(d),S=new u(y),z=new u(m),A=0,M=0,w=0;w<500;w++){console.log("performTest: version i = "+w+" =========="),p(d,Math.floor(10*a())+1);var D=Math.floor(5*a())+1,b=Math.floor(5*a())+1;w%D==0&&(console.log("performTest: version1 = "+A+", endVersion1 = "+(w+1)+"************************"),v(d,y,k,S,A,w+1),A=w+1),w%b==0&&(console.log("performTest: version2 = "+M+", endVersion2 = "+(w+1)+"************************"),v(d,m,k,z,M,w+1),M=w+1)}},TestSimpleHashReplicator:function(){var e=[4,2,1];function t(e){for(var t=e.reduce((function(e,t){return e+t}),0),r=a()*t,o=-1,n=0;n<e.length;n++)if((r-=e[n])<0){o=n;break}return o}function r(r,o){for(var n=Array.from(r).join(", "),i=0;i<o;i++){switch(t(e)){case 0:var s=Math.floor(1e3*a()),l=Math.floor(1e3*a());r.set(s,l),console.log("performRandomOperations: insert 1 item "+s+", length is "+r.size);break;case 1:if(r.size>0){var c=Math.floor(a()*r.size),h=[].concat(r)[c];r.delete(h[0]),console.log("performRandomOperations: delete 1 item "+h+", length is "+r.size)}break;case 2:r.clear(),console.log("performRandomOperations: clear all items, length is "+r.size)}}console.log("performRandomOperations befor : "+n),console.log("performRandomOperations after : "+Array.from(r).join(", ")),console.log("perform end ================================================")}function o(e,t,r,o,n,i){var a=r.genDiff(n,i);console.log(JSON.stringify(a)),console.log(Array.from(e).join(", ")),o.applyDiff(a),s(e,t)||(console.log(Array.from(t).join(", ")),console.error("source != target"))}for(var n=new Map([[1,1],[2,2],[3,3],[4,4],[5,5]]),i=new Map([[1,1],[2,2],[3,3],[4,4],[5,5]]),l=new Map([[1,1],[2,2],[3,3],[4,4],[5,5]]),c=new f(n),h=new f(i),u=new f(l),g=0,p=0,v=0;v<500;v++){console.log("performTest: version i = "+v+" =========="),r(n,Math.floor(10*a())+1);var d=Math.floor(5*a())+1,y=Math.floor(5*a())+1;v%d==0&&(console.log("performTest: version1 = "+g+", endVersion1 = "+(v+1)+"************************"),o(n,i,c,h,g,v+1),g=v+1),v%y==0&&(console.log("performTest: version2 = "+p+", endVersion2 = "+(v+1)+"************************"),o(n,l,c,u,p,v+1),p=v+1)}}}),n._RF.push({},"d97182Toz9BIJQcIJp3dChi","HashReplicator",void 0);var h=function(e){return e[e.Add=0]="Add",e[e.Delete=1]="Delete",e[e.Update=2]="Update",e[e.Clear=3]="Clear",e}(h||{}),f=e("SimpleHashReplicator",function(){function e(e,t){this.lastVersion=0,this.lastCheckVersion=0,this.clone=void 0,this.target=void 0,this.actionSequence=[],this.target=e,this.clone=new Map(e)}var r=e.prototype;return r.getTarget=function(){return this.target},r.setTarget=function(e){this.target=e},r.genSequenceAction=function(){var e=[];if(0===this.target.size)return e.push(h.Clear),this.clone.clear(),e;for(var r,o=[],n=t(this.target);!(r=n()).done;){var i=r.value,a=i[0],s=i[1];this.clone.has(a)&&this.clone.get(a)===s||(o.push(a,s),this.clone.set(a,s))}if(o.length>0&&e.push.apply(e,[h.Add,o.length/2].concat(o)),this.target.size==this.clone.size)return e;for(var l,c=[],f=t(this.clone.keys());!(l=f()).done;){var u=l.value;this.target.has(u)||(c.push(u),this.clone.delete(u))}return c.length>0&&e.push.apply(e,[h.Delete,c.length].concat(c)),e},r.getActionIndex=function(e){for(var t=0,r=this.actionSequence.length-1;t<=r;){var o=Math.floor((t+r)/2);if(this.actionSequence[o].version==e)return o;this.actionSequence[o].version<e?t=o+1:r=o-1}return t},r.genDiff=function(e,t){if(t<e)return!1;var r=this.lastCheckVersion<t;if(!r&&e>this.lastVersion)return!1;if(r){var o=this.genSequenceAction();if(this.lastCheckVersion=t,o.length>0){if(o[0]==h.Clear)return this.actionSequence=[{version:t,actions:o}],this.lastVersion=t,o;this.actionSequence.push({version:t,actions:o})}}var n=0;e>0&&(n=this.getActionIndex(e+1));for(var i=this.actionSequence.length,a=[],s=n;s<i;++s)a.push.apply(a,this.actionSequence[s].actions);return 0!==a.length&&(this.lastVersion=t,a)},r.applyDiff=function(e){if(e instanceof Array)for(var t=0;t<e.length;){switch(e[t++]){case h.Add:for(var r=e[t++],o=0;o<r;++o){var n=e[t++],i=e[t++];this.target.set(n,i)}break;case h.Delete:for(var a=e[t++],s=0;s<a;++s)this.target.delete(e[t++]);break;case h.Clear:this.target.clear()}}},r.getVersion=function(){return this.lastVersion},r.debugCheck=function(){if(this.target.size!==this.clone.size){console.error("target.size != clone.size");var e=Array.from(this.target.keys()),r=Array.from(this.clone.keys());return console.error("targetKeys:",e),void console.error("cloneKeys:",r)}for(var o,n=t(this.target);!(o=n()).done;){var i=o.value,a=i[0],s=i[1];if(!this.clone.has(a)||this.clone.get(a)!==s)return void console.error("target has key not in clone, key:",a,"value:",s)}},e}());var u=e("HashReplicator",function(){function e(e,t){this.lastVersion=0,this.lastCheckVersion=0,this.clone=void 0,this.target=void 0,this.actionSequence=[],this.ctor=void 0,this.target=e;var r=null==t?void 0:t.getObjMark();if(null!=r&&r.Constructor)this.ctor=null==r?void 0:r.Constructor;else{var o=e.values().next();this.ctor=l(o.value)}this.clone=new Map,this.makeUpCloneData(t)}var r=e.prototype;return r.getTarget=function(){return this.target},r.setTarget=function(e){this.target=e},r.makeUpCloneData=function(e){for(var r,o=t(this.target);!(r=o()).done;){var n=r.value,i=n[0],a=n[1];this.insertData(i,a,this.lastVersion,e)}},r.insertData=function(e,t,r,o){var n=i(t,o);n?this.clone.set(e,[n,r]):console.error("HashReplicator insertData error, data:",t)},r.genSequenceAction=function(e){var r=[];if(0===this.target.size)return r.push(h.Clear),this.clone.clear(),r;for(var o,n=[],i=t(this.target);!(o=i()).done;){var a=o.value,s=a[0],l=a[1],c=this.clone.get(s);c&&c[0]===l||(n.push(s),this.insertData(s,l,e))}if(n.length>0&&r.push.apply(r,[h.Add,n.length].concat(n)),this.target.size==this.clone.size)return r;for(var f,u=[],g=t(this.clone.keys());!(f=g()).done;){var p=f.value;this.target.has(p)||(u.push(p),this.clone.delete(p))}return u.length>0&&r.push.apply(r,[h.Delete,u.length].concat(u)),r},r.getActionIndex=function(e){for(var t=0,r=this.actionSequence.length-1;t<=r;){var o=Math.floor((t+r)/2);if(this.actionSequence[o].version==e)return o;this.actionSequence[o].version<e?t=o+1:r=o-1}return t},r.genDiff=function(e,r){if(r<e)return!1;var o=this.lastCheckVersion<r;if(!o&&e>this.lastVersion)return!1;if(o){var n=this.genSequenceAction(r);if(this.lastCheckVersion=r,n.length>0){if(n[0]==h.Clear)return this.actionSequence=[{version:r,actions:n}],this.lastVersion=r,n;this.actionSequence.push({version:r,actions:n})}}var i=0;e>0&&(i=this.getActionIndex(e+1));for(var a=this.actionSequence.length,s=[],l=i;l<a;++l)s.push.apply(s,this.actionSequence[l].actions);for(var c,f=[],u=t(this.clone);!(c=u()).done;){var g=c.value,p=g[0],v=g[1],d=v[1]>e?0:e,y=v[0].genDiff(d,r);y&&f.push(p,y)}return f.length>0&&s.push.apply(s,[h.Update].concat(f)),0!==s.length&&(this.lastVersion=r,s)},r.applyDiff=function(e){if(e instanceof Array)for(var t=0;t<e.length;){switch(e[t++]){case h.Add:for(var r=e[t++],o=0;o<r;++o){var n=e[t++],i=new this.ctor;this.target.set(n,i),this.insertData(n,i,this.lastVersion)}break;case h.Delete:for(var a=e[t++],s=0;s<a;++s){var l=e[t++];this.target.delete(l),this.clone.delete(l)}break;case h.Clear:this.target.clear(),this.clone.clear();break;case h.Update:for(;t<e.length;t+=2){var c=e[t],f=e[t+1],u=this.clone.get(c);u?u[0].applyDiff(f):console.error("HashReplicator applyDiff error, key:",c,"value:",f)}}}},r.getVersion=function(){return this.lastVersion},r.debugCheck=function(){if(this.target.size!==this.clone.size){console.error("target.size != clone.size");var e=Array.from(this.target.keys()),r=Array.from(this.clone.keys());return console.error("targetKeys:",e),void console.error("cloneKeys:",r)}for(var o,n=t(this.target);!(o=n()).done;){var i=o.value,a=i[0],s=i[1];if(!this.clone.has(a)||this.clone.get(a)!==s)return void console.error("target has key not in clone, key:",a,"value:",s)}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/hello_wasm.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e,n){var t,r,a;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy}],execute:function(){var o;e({default:w,greet:function(e){var n=function(e,n,t){if(void 0===t){var r=f.encode(e),a=n(r.length,1)>>>0;return i().subarray(a,a+r.length).set(r),c=r.length,a}for(var o=e.length,s=n(o,1)>>>0,u=i(),b=0;b<o;b++){var d=e.charCodeAt(b);if(d>127)break;u[s+b]=d}if(b!==o){0!==b&&(e=e.slice(b)),s=t(s,o,o=b+3*e.length,1)>>>0;var p=i().subarray(s+b,s+o);s=t(s,o,b+=l(e,p).written,1)>>>0}return c=b,s}(e,o.__wbindgen_malloc,o.__wbindgen_realloc),t=c;o.greet(n,t)},initSync:function(e){if(void 0!==o)return o;var n=p();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));return y(new WebAssembly.Instance(e,n),e)}}),a._RF.push({},"bfeb1KvgKRB6L4eXsPs2Moy","hello_wasm",void 0);var s="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:function(){throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&s.decode();var u=null;function i(){return null!==u&&0!==u.byteLength||(u=new Uint8Array(o.memory.buffer)),u}var c=0,f="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:function(){throw Error("TextEncoder not available")}},l="function"==typeof f.encodeInto?function(e,n){return f.encodeInto(e,n)}:function(e,n){var t=f.encode(e);return n.set(t),{read:e.length,written:t.length}};function b(e,n){return d.apply(this,arguments)}function d(){return(d=t(r().mark((function e(n,t){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"==typeof Response&&n instanceof Response)){e.next=23;break}if("function"!=typeof WebAssembly.instantiateStreaming){e.next=15;break}return e.prev=2,e.next=5,WebAssembly.instantiateStreaming(n,t);case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),"application/wasm"==n.headers.get("Content-Type")){e.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.next=17,n.arrayBuffer();case 17:return a=e.sent,e.next=20,WebAssembly.instantiate(a,t);case 20:return e.abrupt("return",e.sent);case 23:return e.next=25,WebAssembly.instantiate(n,t);case 25:if(!((o=e.sent)instanceof WebAssembly.Instance)){e.next=30;break}return e.abrupt("return",{instance:o,module:n});case 30:return e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function p(){var e={wbg:{}};return e.wbg.__wbg_alert_8755b7883b6ce0ef=function(e,n){var t,r;alert((t=e,r=n,t>>>=0,s.decode(i().subarray(t,t+r))))},e}function y(e,n){return o=e.exports,w.__wbindgen_wasm_module=n,u=null,o}function w(e){return m.apply(this,arguments)}function m(){return(m=t(r().mark((function e(t){var a,s,u,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o){e.next=2;break}return e.abrupt("return",o);case 2:return void 0===t&&(t=new URL("hello_wasm_bg.wasm",n.meta.url)),a=p(),("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),e.t0=b,e.next=9,t;case 9:return e.t1=e.sent,e.t2=a,e.next=13,(0,e.t0)(e.t1,e.t2);case 13:return s=e.sent,u=s.instance,i=s.module,e.abrupt("return",y(u,i));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a._RF.pop()}}}));

System.register("chunks:///_virtual/Http.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HttpRequest.ts","./HttpApi.ts"],(function(t){var n,i,e,u;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.HttpRequest},function(t){u=t.HttpApi}],execute:function(){i._RF.push({},"520c5Kk4gtLSKlngJC+g+2g","Http",void 0);t("Http",function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.accountLogin=function(t,n){return this.post(u.Apis.accountLogin,{},{appid:t,js_code:n})},i}(e));i._RF.pop()}}}));

System.register("chunks:///_virtual/HttpApi.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"bd02aNBiRZMp55Xvf04TT4o","HttpApi",void 0),t("HttpApi",(function(){})).Apis={accountLogin:"/login/wechart/loginopenid"},i._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerModel.ts","./HttpApi.ts"],(function(t){var e,o,n,r,s;return{setters:[function(t){e=t.createClass},function(t){o=t.cclegacy,n=t.sys},function(t){r=t.PlayerModel},function(t){s=t.HttpApi}],execute:function(){o._RF.push({},"6aac6jiVTNGK6wKCDhLICRd","HttpRequest",void 0);var i=t("HttpRequest",function(){function t(){}return t.setServerUrl=function(t){this._serverUrl=t},t.get=function(t,e,o,n){return void 0===o&&(o={"Content-Type":"application/x-www-form-urlencoded",device_id:r.inst.device_id||"",platform:r.inst.platform||"",fromChannel:r.inst.fromChannel||"1.0.0","Access-Control-Allow-origin":"*",Authorization:r.inst.Authorization||"",env:"dev"}),void 0===n&&(n=5),console.log("get === headers =",o),this._doHttp(t,{},o,"GET",n)},t.post=function(t,e,o,n,s){return void 0===n&&(n={"Content-Type":"application/json",device_id:r.inst.device_id||"",platform:r.inst.platform||"",fromChannel:r.inst.fromChannel||"1.0.0","Access-Control-Allow-origin":"*",Authorization:r.inst.Authorization||"",env:"dev"}),void 0===s&&(s=5),this._doHttp(t,o,n,"POST",s)},t.put=function(t,e,o,n,s){return void 0===n&&(n={"Content-Type":"application/json","X-User-Id":r.inst.userId,authorization:r.inst.token}),void 0===s&&(s=5),this._doHttp(this._combURL(t,e),o,n,"PUT",s)},t.delete=function(t,e,o,n,s){return void 0===n&&(n={"Content-Type":"application/json",device_id:r.inst.device_id||"",platform:r.inst.platform||"",fromChannel:r.inst.fromChannel||"1.0.0"}),void 0===s&&(s=5),this._doHttp(this._combURL(t,e),o,n,"DELETE",s)},t.checkQueue=function(){var t=this._httpQueue.shift();t&&this._doHttp(t.url,t.data,t.headers,t.method,t.timeout)},t._doHttp=function(t,e,o,n,r){var i=this;return console.log("_doHttp : url1 : ",t,this.sBaseURL,e,o),-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&(t=this.sBaseURL+t),console.log("_doHttp : url2 : ",t),e||(e={}),new Promise((function(r,a){var l=new XMLHttpRequest;l.responseType="text",console.log("_doHttp : url3 : ",t),l.onreadystatechange=function(){if(console.log("HttpMgr, onReadyStateChange, readyState="+l.readyState+", status="+l.status),4===l.readyState&&l.status>=200&&l.status<300){console.log("HttpMgr, onReadyStateChange, responseText="+l.responseText);var t={};try{t=JSON.parse(l.responseText||"{}")}catch(t){console.error("xhr.responseText erroer ",l.responseText),console.error(t)}i._removeXhrEvent(l),i.checkQueue(),t.errorCode&&console.log("msg.code ",t.errorCode),r(t)}},l.ontimeout=function(){console.warn(t+", request ontimeout"),i._removeXhrEvent(l),a()},l.onerror=function(){0==l.status&&s.Apis.tga,console.warn(t+", request onerror"),i._removeXhrEvent(l),a()},l.onabort=function(){console.warn(t+", request onabort"),i._removeXhrEvent(l),a()},console.log("HttpMgr, doHttp url="+t+", method="+n),console.log(JSON.stringify(o)),l.open(n,t,!0),o&&i._setHttpHeaders(l,o),console.log("HttpMgr, doHttp xhr="+l+", method="+n),e&&"object"==typeof e?l.send(JSON.stringify(e)):l.send()}))},t._combURL=function(t,e){return t+="?",Object.keys(e).forEach((function(o){t+=o+"="+e[o]+"&"})),t.slice(0,t.length-1)},t._combData=function(t){var e="";return Object.keys(t).forEach((function(o){e+=o+"="+t[o]+"&"})),e.slice(0,e.length-1)},t._removeXhrEvent=function(t){t.ontimeout=null,t.onerror=null,t.onabort=null,t.onreadystatechange=null},t._setHttpHeaders=function(t,e){for(var o in e)t.setRequestHeader(o,e[o])},e(t,null,[{key:"sBaseURL",get:function(){var t=(window.location.protocol||"http:")+"//"+this._serverUrl;return console.log("sBaseURL : url : ",t),n.isNative&&(t="https://"+this._serverUrl),t="https://"+this._serverUrl,console.log("sBaseURL : url : ",t),t}}]),t}());i._serverUrl=void 0,i._httpQueue=[],o._RF.pop()}}}));

System.register("chunks:///_virtual/JtCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArcheryCtrl.ts"],(function(r){var t,e,n,i,o,c,l,a;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,n=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,c=r._decorator,l=r.Component},function(r){a=r.ArcheryCtrl}],execute:function(){var u,s,p,f,y;o._RF.push({},"e1cbd/Jiz5DIaxSFh3ofg+1","JtCtrl",void 0);var h=c.ccclass,C=c.property;r("JtCtrl",(u=h("JtCtrl"),s=C(a),u((y=t((f=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t=r.call.apply(r,[this].concat(o))||this,n(t,"archeryCtrl",y,i(t)),t}e(t,r);var o=t.prototype;return o.start=function(){},o.update=function(r){},t}(l)).prototype,"archeryCtrl",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./EventId.ts","./GameApp.ts","./GameCtrl.ts","./ACtrl.ts","./ArcheryCtrl.ts","./ArcheryGame.ts","./BCtrl.ts","./BPool.ts","./BulletCtrl.ts","./BulletPool.ts","./JtCtrl.ts","./GameModel.ts","./PlayerModel.ts","./Http.ts","./HttpApi.ts","./UIConfig.ts","./UIArcheryNotice.ts","./UIArcheryPay.ts","./UIEthters02Test.ts","./UIEthtersTest.ts","./UIEventTest.ts","./UILogin.ts","./UIMain.ts","./UINetTest.ts","./UINotice.ts","./UIResKeepTest.ts","./UIResTest.ts","./UIWasmTest.ts","./UIZshuffleWasmTest.ts","./ABI.ts","./Ethers02Utils.ts","./EthersUtils.ts","./UIGame.ts","./hello_wasm.ts","./zshuffle_wasm.ts","./GameLanch.ts","./ResMgr.ts","./Singleton.ts","./Utils.ts","./EventManager.ts","./TaskQueue.ts","./HttpRequest.ts","./NetInterface.ts","./NetManager.ts","./NetNode.ts","./WebSock.ts","./NodePool.ts","./ResKeeper.ts","./ResLeakChecker.ts","./ResLoader.ts","./ResPool.ts","./ResUtil.ts","./ArrayReplicator.ts","./CocosReplicator.ts","./DiffScaner.ts","./DiffTrigger.ts","./HashReplicator.ts","./NodeReplicator.ts","./ReplicateMark.ts","./ReplicatorFactory.ts","./SetReplicator.ts","./SyncUtil.ts","./ClientReplicator.ts","./NodeSync.ts","./ServerReplicator.ts","./UIManager.ts","./UIView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NetInterface.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d9f8b+CV69FyKwnUdCjOtad","NetInterface",void 0);t("DefStringProtocol",function(){function t(){}var e=t.prototype;return e.getHeadlen=function(){return 0},e.getHearbeat=function(){return""},e.getPackageLen=function(t){return t.toString().length},e.checkPackage=function(t){return!0},e.getPackageId=function(t){return 0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NetManager.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"d8cd5el6GBGTYTW+N8b8EuJ","NetManager",void 0),n("NetManager",function(){function n(){this._channels={}}n.getInstance=function(){return this._instance||(this._instance=new n),this._instance};var e=n.prototype;return e.setNetNode=function(n,e){void 0===e&&(e=0),this._channels[e]=n},e.removeNetNode=function(n){delete this._channels[n]},e.connect=function(n,e){return void 0===e&&(e=0),!!this._channels[e]&&this._channels[e].connect(n)},e.send=function(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=0);var i=this._channels[t];return i?i.send(n,e):-1},e.request=function(n,e,t,i,s,c){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===c&&(c=0);var o=this._channels[c];o&&o.request(n,e,t,i,s)},e.requestUnique=function(n,e,t,i,s,c){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===c&&(c=0);var o=this._channels[c];return!!o&&o.requestUnique(n,e,t,i,s)},e.close=function(n,e,t){if(void 0===t&&(t=0),this._channels[t])return this._channels[t].closeSocket(n,e)},n}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/NetNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"57f0fB90kNBUJ98yyu+jxjx","NetNode",void 0);var n=e("NetTipsType",function(e){return e[e.Connecting=0]="Connecting",e[e.ReConnecting=1]="ReConnecting",e[e.Requesting=2]="Requesting",e}({})),i=e("NetNodeState",function(e){return e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Checking=2]="Checking",e[e.Working=3]="Working",e}({}));e("NetNode",function(){function e(){this._connectOptions=null,this._autoReconnect=0,this._isSocketInit=!1,this._isSocketOpen=!1,this._state=i.Closed,this._socket=null,this._networkTips=null,this._protocolHelper=null,this._connectedCallback=null,this._disconnectCallback=null,this._callbackExecuter=null,this._keepAliveTimer=null,this._receiveMsgTimer=null,this._reconnectTimer=null,this._heartTime=1e4,this._receiveTime=6e6,this._reconnetTimeOut=8e6,this._requests=Array(),this._listener={}}var s=e.prototype;return s.init=function(e,t,s,n){void 0===s&&(s=null),void 0===n&&(n=null),console.log("NetNode init socket"),this._socket=e,this._protocolHelper=t,this._networkTips=s,this._callbackExecuter=n||function(e,t){e.callback.call(e.target,0,t)}},s.connect=function(e){return!(!this._socket||this._state!=i.Closed)&&(this._isSocketInit||this.initSocket(),this._state=i.Connecting,this._socket.connect(e)?(null==this._connectOptions&&"number"==typeof e.autoReconnect&&(this._autoReconnect=e.autoReconnect),this._connectOptions=e,this.updateNetTips(n.Connecting,!0),!0):(this.updateNetTips(n.Connecting,!1),!1))},s.initSocket=function(){var e=this;this._socket&&(this._socket.onConnected=function(t){e.onConnected(t)},this._socket.onMessage=function(t){e.onMessage(t)},this._socket.onError=function(t){e.onError(t)},this._socket.onClosed=function(t){e.onClosed(t)},this._isSocketInit=!0)},s.updateNetTips=function(e,t){this._networkTips&&(e==n.Requesting?this._networkTips.requestTips(t):e==n.Connecting?this._networkTips.connectTips(t):e==n.ReConnecting&&this._networkTips.reconnectTips(t))},s.onConnected=function(e){var t=this;console.log("NetNode onConnected!"),this._isSocketOpen=!0,null!==this._connectedCallback?(this._state=i.Checking,this._connectedCallback((function(){t.onChecked()}))):this.onChecked(),console.log("NetNode onConnected! state ="+this._state)},s.onChecked=function(){if(console.log("NetNode onChecked!"),this._state=i.Working,this.updateNetTips(n.Connecting,!1),this.updateNetTips(n.ReConnecting,!1),console.log("NetNode flush "+this._requests.length+" request"),this._requests.length>0){for(var e=0;e<this._requests.length;){var t=this._requests[e];this._socket.send(t.buffer),null==t.rspObject||t.rspCmd<=0?this._requests.splice(e,1):++e}this.updateNetTips(n.Requesting,this.request.length>0)}},s.onMessage=function(e){if(this._protocolHelper.checkPackage(e)){this.resetReceiveMsgTimer(),this.resetHearbeatTimer();var s=this._protocolHelper.getPackageId(e);if(console.log("NetNode onMessage rspCmd = "+s),this._requests.length>0){for(var i in this._requests){var o=this._requests[i];if(o.rspCmd==s&&o.rspObject){console.log("NetNode execute request rspcmd "+s),this._callbackExecuter(o.rspObject,e),this._requests.splice(parseInt(i),1);break}}console.log("NetNode still has "+this._requests.length+" request watting"),0==this._requests.length&&this.updateNetTips(n.Requesting,!1)}var r=this._listener[s];if(null!=r)for(var c,l=t(r);!(c=l()).done;){var u=c.value;console.log("NetNode execute listener cmd "+s),this._callbackExecuter(u,e)}}else console.error("NetNode checkHead Error")},s.onError=function(e){console.error(e)},s.onClosed=function(e){var t=this;this.clearTimer(),!this._disconnectCallback||this._disconnectCallback()?this.isAutoReconnect()?(this.updateNetTips(n.ReConnecting,!0),this._reconnectTimer=setTimeout((function(){t._socket.close(),t._state=i.Closed,t.connect(t._connectOptions),t._autoReconnect>0&&(t._autoReconnect-=1)}),this._reconnetTimeOut)):this._state=i.Closed:console.log("disconnect return!")},s.close=function(e,t){this.clearTimer(),this._listener={},this._requests.length=0,this._networkTips&&(this._networkTips.connectTips(!1),this._networkTips.reconnectTips(!1),this._networkTips.requestTips(!1)),this._socket?this._socket.close(e,t):this._state=i.Closed},s.closeSocket=function(e,t){this._socket&&this._socket.close(e,t)},s.send=function(e,t){return void 0===t&&(t=!1),this._state==i.Working||t?(console.log("socket send ..."),this._socket.send(e)):this._state==i.Checking||this._state==i.Connecting?(this._requests.push({buffer:e,rspCmd:0,rspObject:null}),console.log("NetNode socket is busy, push to send buffer, current state is "+this._state),0):(console.error("NetNode request error! current state is "+this._state),-1)},s.request=function(e,t,s,o,r){void 0===o&&(o=!0),void 0===r&&(r=!1),(this._state==i.Working||r)&&this._socket.send(e),console.log("NetNode request with timeout for "+t),this._requests.push({buffer:e,rspCmd:t,rspObject:s}),o&&this.updateNetTips(n.Requesting,!0)},s.requestUnique=function(e,t,s,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);for(var o=0;o<this._requests.length;++o)if(this._requests[o].rspCmd==t)return console.log("NetNode requestUnique faile for "+t),!1;return this.request(e,t,s,n,i),!0},s.setResponeHandler=function(e,t,s){return null==t?(console.error("NetNode setResponeHandler error "+e),!1):(this._listener[e]=[{target:s,callback:t}],!0)},s.addResponeHandler=function(e,t,s){if(null==t)return console.error("NetNode addResponeHandler error "+e),!1;var n={target:s,callback:t};null==this._listener[e]?this._listener[e]=[n]:-1==this.getNetListenersIndex(e,n)&&this._listener[e].push(n);return!0},s.removeResponeHandler=function(e,t,s){if(null!=this._listener[e]&&null!=t){var n=this.getNetListenersIndex(e,{target:s,callback:t});-1!=n&&this._listener[e].splice(n,1)}},s.cleanListeners=function(e){void 0===e&&(e=-1),-1==e?this._listener={}:this._listener[e]=null},s.getNetListenersIndex=function(e,t){for(var s=-1,n=0;n<this._listener[e].length;n++){var i=this._listener[e][n];if(i.callback==t.callback&&i.target==t.target){s=n;break}}return s},s.resetReceiveMsgTimer=function(){var e=this;null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),this._receiveMsgTimer=setTimeout((function(){console.warn("NetNode recvieMsgTimer close socket!"),e._socket.close()}),this._receiveTime)},s.resetHearbeatTimer=function(){var e=this;null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),this._keepAliveTimer=setTimeout((function(){console.log("NetNode keepAliveTimer send Hearbeat"),e.send(e._protocolHelper.getHearbeat())}),this._heartTime)},s.clearTimer=function(){null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),null!==this._reconnectTimer&&clearTimeout(this._reconnectTimer)},s.isAutoReconnect=function(){return 0!=this._autoReconnect},s.rejectReconnect=function(){this._autoReconnect=0,this.clearTimer()},e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/NodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var t,o,r,n,s,i,a;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,r=e.Prefab,n=e.instantiate,s=e.isValid,i=e.error},function(e){a=e.resLoader}],execute:function(){o._RF.push({},"79670Jcz25EHbpPz2sbGO5H","NodePool",void 0);e("NodePool",function(){function e(){this._isReady=!1,this._createCount=0,this._warterMark=10,this._res=null,this._nodes=new Array}var o=e.prototype;return o.isReady=function(){return this._isReady},o.init=function(e,t){var o=this;e instanceof r?(this._res=e,e.addRef(),console.error("NodePool init error "+arguments[0])):a.load(e,r,(function(e,r){e||(o._res=r,o._isReady=!0),t&&t(e,o)}))},o.getNode=function(){return this.isReady?this._nodes.length>0?this._nodes.pop():(this._createCount++,n(this._res)):null},o.freeNode=function(e){if(!e||!s(e))return i("[ERROR] PrefabPool: freePrefab: isValid node"),void this._createCount--;this._warterMark<this._nodes.length?(this._createCount--,e.destroy()):(e.removeFromParent(),this._nodes.push(e))},o.setWaterMark=function(e){this._warterMark=e},o.isUnuse=function(){return this._nodes.length>this._createCount&&i("PrefabPool: _nodes.length > _createCount"),this._nodes.length==this._createCount},o.destory=function(){for(var e,o=t(this._nodes);!(e=o()).done;){e.value.destroy()}this._createCount-=this._nodes.length,this._nodes.length=0,this._res&&this._res.decRef()},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeReplicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReplicatorFactory.ts","./ReplicateMark.ts"],(function(e){var t,r,o,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){o=e.createReplicator},function(e){n=e.getReplicateMark}],execute:function(){r._RF.push({},"0d64fS6lV1LHYTA5KOJDPJ6","NodeReplicator",void 0);e("default",function(){function e(e){this.target=void 0,this.replicators=new Map,this.version=0,this.lastCheckVersion=0,this.target=e,this.scanNode(e)}var r=e.prototype;return r.scanNode=function(e){for(var r,n=t(e.components);!(r=n()).done;){var i=r.value;if(this.isReplicated(i)){var a=this.getComponentKey(e,i),s=o(i);s?(this.replicators.set(a,s),console.log("NodeReplicator scanNode, key: "+a)):console.error("NodeReplicator scanNode error, key: "+a)}console.log("NodeReplicator scanNode, component: "+i.constructor.name)}for(var c,l=t(e.children);!(c=l()).done;){var u=c.value;this.scanNode(u)}},r.isReplicated=function(e){return!!n(e.constructor,!1)},r.getComponentKey=function(e,t){return this.getNodePath(e)+":"+t.constructor.name},r.getNodePath=function(e){for(var t=e.name,r=e.parent;r;)t=r.name+"/"+t,r=r.parent;return t},r.genDiff=function(e,r){if(r<e||null===this.target)return!1;if(!(this.lastCheckVersion<r)&&e>this.version)return!1;for(var o,n={},i=t(this.replicators);!(o=i()).done;){var a=o.value,s=a[0],c=a[1].genDiff(e,r);c&&(n[s]=c)}return this.lastCheckVersion=r,Object.keys(n).length>0&&(this.version=r,n)},r.applyDiff=function(e){for(var t in e){var r=this.replicators.get(t);r?r.applyDiff(e[t]):console.error("NodeReplicator applyDiff error, key: "+t)}},r.getVersion=function(){return this.version},r.getTarget=function(){return this.target},r.setTarget=function(e){this.target=e},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/NodeSync.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServerReplicator.ts","./NodeReplicator.ts"],(function(e){var t,n,r,i,o,a,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Component},function(e){l=e.ServerReplicator},function(e){s=e.default}],execute:function(){var u,p,f,d,h;o._RF.push({},"c2990j8KTBMboE8EMAhvEx1","NodeSync",void 0);var y=a.ccclass,b=a.property;e("NodeSync",y("NodeSync")((f=t((p=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"instanceId",f,i(t)),r(t,"prefabPath",d,i(t)),r(t,"replicator",h,i(t)),t.childrenNodeSync=[],t}n(t,e);var o=t.prototype;return o.setInstanceId=function(e){this.instanceId=e},o.setPrefabPath=function(e){this.prefabPath=e},o.addChildNodeSync=function(e){this.childrenNodeSync.push(e)},o.onEnable=function(){this.registerToParent(),this.replicator||(this.replicator=new s(this.node))},o.genDiff=function(e,t){var n;return null==(n=this.replicator)?void 0:n.genDiff(e,t)},o.applyDiff=function(e){var t;null==(t=this.replicator)||t.applyDiff(e)},o.getVersion=function(){var e;return(null==(e=this.replicator)?void 0:e.getVersion())||0},o.registerToParent=function(){for(var e=this.node.parent;e;){var n=e.getComponent(l);if(n){n.registerNodeSync(this);break}var r=e.getComponent(t);if(r){r.addChildNodeSync(this);break}e=e.parent}},t}(c)).prototype,"instanceId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),d=t(p.prototype,"prefabPath",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=t(p.prototype,"replicator",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(o){var e,n,t;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy},function(o){t=o.Singleton}],execute:function(){n._RF.push({},"a2400y46SJECovtxbpeP/Z8","PlayerModel",void 0);o("PlayerModel",function(o){function n(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=o.call.apply(o,[this].concat(t))||this).device_id=void 0,e.platform=void 0,e.fromChannel=void 0,e.Authorization=void 0,e.token=void 0,e.userId=void 0,e}return e(n,o),n.prototype.init=function(){},n}(t()));n._RF.pop()}}}));

System.register("chunks:///_virtual/ReplicateMark.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("getReplicateMark",(function(t,r,a,n){void 0===r&&(r=!0);var s=t[e];!s&&r&&(s=new i(t,a,n),Object.defineProperty(t,e,{value:s,enumerable:!1,writable:!1,configurable:!0}));return s})),r._RF.push({},"22c399n691IqKZWJM1PfE4c","ReplicateMark",void 0);var e=t("REPLICATE_MARK_INDEX","__repMrk__");t("ReplicateType",function(t){return t[t.REPLICATE_SCAN=0]="REPLICATE_SCAN",t[t.REPLICATE_TRIGGER=1]="REPLICATE_TRIGGER",t[t.REPLICATE_SIMPLE_ARRAY=2]="REPLICATE_SIMPLE_ARRAY",t[t.REPLICATE_ARRAY=3]="REPLICATE_ARRAY",t[t.REPLICATE_LINK_ARRAY=4]="REPLICATE_LINK_ARRAY",t[t.REPLICATE_SIMPLE_HASH=5]="REPLICATE_SIMPLE_HASH",t[t.REPLICATE_HASH=6]="REPLICATE_HASH",t}({}));var i=t("default",function(){function t(t,r,e){this.init=!1,this.markMap=new Map,this.objMark=void 0,this.defaultMark=!1,this.cls=void 0,this.cls=t,this.objMark=r,(r&&r.SyncProperty||e&&Object.keys(t).length>0)&&this.initMark()}var r=t.prototype;return r.getCls=function(){return this.cls},r.setDefaultMark=function(t){this.defaultMark=t},r.getDefaultMark=function(){return this.defaultMark},r.addMark=function(t,r,e){this.markMap.set(t,{def:r,option:e})},r.getMark=function(t){return this.markMap.get(t)},r.getMarks=function(){return this.markMap},r.setObjMark=function(t){this.objMark=t,this.initMark()},r.getObjMark=function(){return this.objMark},r.initMark=function(t){if(!this.init)if(this.markMap.size>0)this.init=!0;else{t||(t=this.cls),this.init=!0;var r=this.objMark;if(r&&r.SyncProperty)for(var e=0;e<r.SyncProperty.length;e++){var i=r.SyncProperty[e];this.addMark(i.Name,t[i.Name],i)}else for(var a=0,n=Object.keys(t);a<n.length;a++){var s=n[a];0!=s.indexOf("__")&&this.addMark(s,t[s])}if(r&&r.SkipProperty)for(var o=0;o<r.SkipProperty.length;o++){var c=r.SkipProperty[o];this.markMap.delete(c)}}},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ReplicatorFactory.ts",["cc","./ArrayReplicator.ts","./CocosReplicator.ts","./DiffScaner.ts","./DiffTrigger.ts","./ReplicateMark.ts","./SyncUtil.ts","./SetReplicator.ts","./HashReplicator.ts","./NodeReplicator.ts"],(function(e){var t,r,n,i,c,a,o,f,u,l,R,p,s,A,y,T;return{setters:[function(e){t=e.cclegacy,r=e.Vec3,n=e.Node},function(e){i=e.SimpleArrayReplicator,c=e.ArrayReplicator,a=e.ArrayLinkReplicator},function(e){o=e.CCVec3Replicator},function(e){f=e.ReplicateScanner},function(e){u=e.ReplicateTrigger},function(e){l=e.ReplicateType,R=e.getReplicateMark},function(e){p=e.isSimpleType},function(e){s=e.SimpleSetReplicator},function(e){A=e.HashReplicator,y=e.SimpleHashReplicator},function(e){T=e.default}],execute:function(){e("createReplicator",(function(e,t){if(e instanceof Array){if(t){var w=t.getObjMark();if(w){if(w.Type==l.REPLICATE_SIMPLE_ARRAY)return new i(e,t);if(w.Type==l.REPLICATE_ARRAY)return new c(e,t);if(w.Type==l.REPLICATE_LINK_ARRAY)return new a(e,t)}}return e.length>0?p(e[0])?new i(e,t):new c(e,t):null}if(e instanceof r)return new o(e);if(e instanceof n)return new T(e);if(e instanceof Set)return new s(e,t);if(e instanceof Map){if(t){var E=t.getObjMark();if(E)switch(E.Type){case l.REPLICATE_SIMPLE_HASH:return new y(e,t);case l.REPLICATE_HASH:return new A(e,t)}}if(e.size>0){var S=e.values().next().value;return p(S)?new y(e,t):new A(e,t)}return null}if(e instanceof Object){if(t||(t=R(e.constructor,!1)),t){var g=t.getObjMark();if(g&&g.Type==l.REPLICATE_TRIGGER)return new u(e,t)}return new f(e,t)}return null})),t._RF.push({},"7da7fdIU2tBVrkJg6b1IrLC","ReplicatorFactory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResKeeper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var r,s,t,n,c;return{setters:[function(e){r=e.inheritsLoose},function(e){s=e.cclegacy,t=e._decorator,n=e.Component},function(e){c=e.resLoader}],execute:function(){var o;s._RF.push({},"e7548uPzG1IHbJAG5JOhIeu","ResKeeper",void 0);var a=t.ccclass;e("ResKeeper",a(o=function(e){function s(){for(var r,s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return(r=e.call.apply(e,[this].concat(t))||this).resCache=new Set,r}r(s,e);var t=s.prototype;return t.load=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];c.load.apply(c,r)},t.cacheAsset=function(e){this.resCache.has(e)||(e.addRef(),this.resCache.add(e))},t.onDestroy=function(){this.releaseAssets()},t.releaseAssets=function(){this.resCache.forEach((function(e){e.decRef()})),this.resCache.clear()},s}(n))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResLeakChecker.ts",["cc","./ResUtil.ts"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.ResUtil}],execute:function(){t._RF.push({},"9487ex5I5NG3qnus+fkql3x","ResLeakChecker",void 0);e("ResLeakChecker",function(){function e(){this.resFilter=null,this._checking=!1,this.traceAssets=new Set}var t=e.prototype;return t.checkFilter=function(e){return!!this._checking&&(!this.resFilter||this.resFilter(e))},t.traceAsset=function(e){e&&this.checkFilter(e)&&(this.traceAssets.has(e)||(e.addRef(),this.traceAssets.add(e),this.extendAsset(e)))},t.extendAsset=function(e){var t=e.addRef,c=e.decRef,r=new Map;e.traceMap=r,e.addRef=function(){var c=s.getCallStack(1),n=r.has(c)?r.get(c)+1:1;r.set(c,n);for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return t.apply(e,i)},e.decRef=function(){var t=s.getCallStack(1),n=r.has(t)?r.get(t)+1:1;r.set(t,n);for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return c.apply(e,i)},e.resetTrace=function(){e.addRef=t,e.decRef=c,delete e.traceMap}},t.resetAsset=function(e){e.resetTrace&&e.resetTrace()},t.untraceAsset=function(e){this.traceAssets.has(e)&&(this.resetAsset(e),e.decRef(),this.traceAssets.delete(e))},t.startCheck=function(){this._checking=!0},t.stopCheck=function(){this._checking=!1},t.getTraceAssets=function(){return this.traceAssets},t.reset=function(){var e=this;this.traceAssets.forEach((function(t){e.resetAsset(t),t.decRef()})),this.traceAssets.clear()},t.dump=function(){this.traceAssets.forEach((function(e){var t=e.traceMap;t&&t.forEach((function(e,t){console.log(e+" : "+t+" ")}))}))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["cc"],(function(e){var s,n,r,o,t;return{setters:[function(e){s=e.cclegacy,n=e.js,r=e.Asset,o=e.assetManager,t=e.resources}],execute:function(){s._RF.push({},"4b081G1b9pJvbDtVt9AUhXd","ResLoader",void 0);var a=e("default",function(){function e(){}var s=e.prototype;return s.parseLoadResArgs=function(e,s,o,t){var a=e,l=s,d=o,u=t;if(void 0===t){var i=n.isChildClassOf(s,r);o?(u=o,i&&(d=null)):void 0!==o||i||(u=s,d=null,l=null),void 0===o||i||(d=s,l=null)}return{paths:a,type:l,onProgress:d,onComplete:u}},s.loadByBundleAndArgs=function(e,s){s.dir?e.loadDir(s.paths,s.type,s.onProgress,s.onComplete):(s.paths,e.load(s.paths,s.type,s.onProgress,s.onComplete))},s.loadByArgs=function(e){var s=this;if(e.bundle)if(o.bundles.has(e.bundle)){var n=o.bundles.get(e.bundle);this.loadByBundleAndArgs(n,e)}else o.loadBundle(e.bundle,(function(n,r){n||s.loadByBundleAndArgs(r,e)}));else this.loadByBundleAndArgs(t,e)},s.load=function(e,s,n,r,o){var t=null;"string"==typeof s||s instanceof Array?(t=this.parseLoadResArgs(s,n,r,o)).bundle=e:t=this.parseLoadResArgs(e,s,n,r),this.loadByArgs(t)},s.loadDir=function(e,s,n,r,o){var t=null;"string"==typeof s?(t=this.parseLoadResArgs(s,n,r,o)).bundle=e:t=this.parseLoadResArgs(e,s,n,r),t.dir=t.paths,this.loadByArgs(t)},s.loadRemote=function(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];o.loadRemote(e,n)},e}());e("resLoader",new a);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n.Component}],execute:function(){e._RF.push({},"ebee8nppplI15MrFGZdnuTx","ResMgr",void 0);n("ResMgr",function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onLoad=function(){},o.start=function(){},o.update=function(n){},e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/ResPool.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4d239KZe5hI4Zb4kyjxarWh","ResPool",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResUtil.ts",["cc","./ResKeeper.ts"],(function(e){var n,t,r,s;return{setters:[function(e){n=e.cclegacy,t=e.Asset,r=e.instantiate},function(e){s=e.ResKeeper}],execute:function(){n._RF.push({},"8f503HZlhxLTY5UPaFTxC1e","ResUtil",void 0);e("ResUtil",function(){function e(){}return e.load=function(n){for(var t=e.getResKeeper(n),r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];t.load.apply(t,s)},e.getResKeeper=function(n,t){if(n){var r=n.getComponent(s);return r||(t?n.addComponent(s):e.getResKeeper(n.parent,t))}return null},e.assignWith=function(n,r,s){var i=e.getResKeeper(r,s);return i&&n instanceof t?(i.cacheAsset(n),n):(console.error("assignWith "+n+" to "+r+" faile"),null)},e.instantiate=function(n){var t=r(n),s=e.getResKeeper(t,!0);return s&&s.cacheAsset(n),t},e.findCharPos=function(e,n,t){for(var r=e.indexOf(n),s=r,i=0;i<t;i++){if(-1==(r=e.indexOf(n,r+1)))return s;s=r}return s},e.getCallStack=function(n){var t=(new Error).stack,r=e.findCharPos(t,"\n",n);return r>0&&(t=t.slice(r)),t},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ServerReplicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeSync.ts"],(function(e){var t,n,r,o,i,a,s,c,l,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Prefab,l=e.instantiate,d=e.Component},function(e){h=e.NodeSync}],execute:function(){var u,p,f,g,v;a._RF.push({},"46af4XCgzJAILhCuIEt5mrq","ServerReplicator",void 0);var y=s.ccclass,m=s.property;e("ServerReplicator",(u=y("ServerReplicator"),p=m({type:[c]}),u((v=t((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"prefabs",v,o(t)),t.instanceCounter=0,t.serverVersion=0,t}n(t,e);var a=t.prototype;return a.createRandomPrefab=function(){var e=Math.floor(Math.random()*this.prefabs.length),t=this.prefabs[e],n=l(t),r=n.getComponent(h);if(r){r.setInstanceId(this.instanceCounter++),n.setPosition(6*Math.random()-3,0,6*Math.random()-3);var o=this.node,i=this.getRandomChildNode();this.node.children.length>2&&i&&(o=i),o.addChild(n),console.log("create instance "+r.instanceId+" counter "+this.instanceCounter)}},a.getRandomChildNode=function(){if(this.node.children.length>0){var e=Math.floor(Math.random()*this.node.children.length);return this.node.children[e]}return null},a.generateSyncData=function(){for(var e,t=[],n=this.node.getComponentsInChildren(h),r=i(n);!(e=r()).done;){var o=e.value;t.push({instanceId:o.instanceId,prefabPath:o.prefabPath,position:o.node.position,data:o.genDiff(this.serverVersion,++this.serverVersion)})}return console.log("generate sync data "+JSON.stringify(t)),t},a.registerNodeSync=function(e){-1===e.instanceId&&e.setInstanceId(this.instanceCounter++)},t}(d)).prototype,"prefabs",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SetReplicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SyncUtil.ts"],(function(e){var t,r,o,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){o=e.customRandom,n=e.isEqual}],execute:function(){e("TestSimpleSetReplicator",(function(){var e=[4,2,1];function t(e){for(var t=e.reduce((function(e,t){return e+t}),0),r=o()*t,n=-1,i=0;i<e.length;i++)if((r-=e[i])<0){n=i;break}return n}function r(r,n){for(var i=Array.from(r).join(", "),s=0;s<n;s++){switch(t(e)){case 0:var a=Math.floor(1e3*o());r.add(a),console.log("performRandomOperations: insert 1 item "+a+", length is "+r.size);break;case 1:if(r.size>0){var c=Math.floor(o()*r.size),l=[].concat(r)[c];r.delete(l),console.log("performRandomOperations: delete 1 item "+l+", length is "+r.size)}break;case 2:r.clear(),console.log("performRandomOperations: clear all items, length is "+r.size)}}console.log("performRandomOperations befor : "+i),console.log("performRandomOperations after : "+Array.from(r).join(", ")),console.log("perform end ================================================")}function i(e,t,r,o,i,s){var a=r.genDiff(i,s);console.log(JSON.stringify(a)),console.log(Array.from(e).join(", ")),o.applyDiff(a),n(e,t)||(console.log(Array.from(t).join(", ")),console.error("source != target"))}for(var a=new Set([1,2,3,4,5]),c=new Set([1,2,3,4,5]),l=new Set([1,2,3,4,5]),f=new s(a),h=new s(c),u=new s(l),g=0,p=0,v=0;v<500;v++){console.log("performTest: version i = "+v+" =========="),r(a,Math.floor(10*o())+1);var d=Math.floor(5*o())+1,m=Math.floor(5*o())+1;v%d==0&&(console.log("performTest: version1 = "+g+", endVersion1 = "+(v+1)+"************************"),i(a,c,f,h,g,v+1),g=v+1),v%m==0&&(console.log("performTest: version2 = "+p+", endVersion2 = "+(v+1)+"************************"),i(a,l,f,u,p,v+1),p=v+1)}})),r._RF.push({},"2c568mR0AFGVbLQ19+JD2+g","SetReplicator",void 0);var i=function(e){return e[e.Add=0]="Add",e[e.Delete=1]="Delete",e[e.Clear=2]="Clear",e}(i||{}),s=e("SimpleSetReplicator",function(){function e(e,t){this.lastVersion=0,this.lastCheckVersion=0,this.clone=void 0,this.target=void 0,this.actionSequence=[],this.target=e,this.clone=new Set(e)}var r=e.prototype;return r.getTarget=function(){return this.target},r.setTarget=function(e){this.target=e},r.genSequenceAction=function(){var e=[];if(0===this.target.size)return e.push(i.Clear),this.clone.clear(),e;for(var r,o=[],n=t(this.target);!(r=n()).done;){var s=r.value;this.clone.has(s)||(o.push(s),this.clone.add(s))}if(o.length>0&&e.push.apply(e,[i.Add,o.length].concat(o)),this.clone.size>this.target.size){for(var a,c=this.clone.size-this.target.size,l=[],f=t(this.clone);!(a=f()).done;){var h=a.value;if(!this.target.has(h)&&(l.push(h),this.clone.delete(h),0===--c))break}l.length>0&&e.push.apply(e,[i.Delete,l.length].concat(l))}return e},r.getActionIndex=function(e){for(var t=0,r=this.actionSequence.length-1;t<=r;){var o=Math.floor((t+r)/2);if(this.actionSequence[o].version==e)return o;this.actionSequence[o].version<e?t=o+1:r=o-1}return t},r.genDiff=function(e,t){if(t<e)return!1;var r=this.lastCheckVersion<t;if(!r&&e>this.lastVersion)return!1;if(r){var o=this.genSequenceAction();if(this.lastCheckVersion=t,o.length>0){if(o[0]==i.Clear)return this.actionSequence=[{version:t,actions:o}],this.lastVersion=t,o;this.actionSequence.push({version:t,actions:o})}}var n=0;e>0&&(n=this.getActionIndex(e+1));for(var s=this.actionSequence.length,a=[],c=n;c<s;++c)a.push.apply(a,this.actionSequence[c].actions);return 0!==a.length&&(this.lastVersion=t,a)},r.applyDiff=function(e){if(e instanceof Array)for(var t=0;t<e.length;){switch(e[t++]){case i.Add:for(var r=e[t++],o=0;o<r;++o)this.target.add(e[t++]);break;case i.Delete:for(var n=e[t++],s=0;s<n;++s)this.target.delete(e[t++]);break;case i.Clear:this.target.clear()}}},r.getVersion=function(){return this.lastVersion},r.debugCheck=function(){var e=new Set(this.target),r=new Set(this.clone);if(e.size!==r.size)return console.error("SetReplicator: size not equal"),console.error(e),void console.error(r);for(var o,n=t(e);!(o=n()).done;){var i=o.value;if(!r.has(i))return console.error("SetReplicator: data not equal"),console.error(e),void console.error(r)}},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){n("Singleton",(function(){var n=function(){function n(){}return t(n,null,[{key:"inst",get:function(){return null==n._inst&&(n._inst=new this),n._inst}}]),n}();return n._inst=null,n})),e._RF.push({},"c74f7piVfxJxKjRa4CuNJQ4","Singleton",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/SyncUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReplicateMark.ts","./ReplicatorFactory.ts"],(function(r){var e,t,n,o;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy},function(r){n=r.getReplicateMark},function(r){o=r.createReplicator}],execute:function(){r({customRandom:function(){var r=Math.pow(2,32);return(a=(1664525*a+1013904223)%r)/r},getConsturctor:function(r){return r.__proto__.constructor},getReplicator:function(r,e,t){void 0===e&&(e=!1);var a=r[i];if(!a&&e){if(!t){if(!(t=n(r.constructor,!0)))return console.warn("getReplicator error, "+r.constructor.name+" not found in ReplicateMark"),null;t.initMark(r)}(a=o(r,t))&&(r[i]=a,Object.defineProperty(r,i,{value:a,enumerable:!1,writable:!1,configurable:!0}))}return a},isEqual:function r(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(null==t&&null==n)return!0;if(null==t||null==n)return!1;if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(var o,i=e(t);!(o=i()).done;){var a=o.value;if(!n.has(a))return!1}return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(var u,c=e(t);!(u=c()).done;){var f=u.value,l=f[0],s=f[1];if(!n.has(l)||!r(s,n.get(l)))return!1}return!0}if("object"!=typeof t&&"object"!=typeof n)return t===n;if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var p=0;p<t.length;p++)if(!r(t[p],n[p]))return!1;return!0}var y=Object.keys(t),v=Object.keys(n);if(y.length!==v.length)return!1;for(var d=0,g=y;d<g.length;d++){var R=g[d];if(-1===v.indexOf(R)||!r(t[R],n[R]))return!1}return!0},isSimpleType:function(r){return"number"==typeof r||"string"==typeof r||"boolean"==typeof r||"bigint"==typeof r},replicated:function(r){return function(e,t,o){return function(r,e,t,o){if(t){var i=n(r,!0);if(!i)return void console.warn("makePropertyReplicatedMark error, "+r+" not found in ReplicateMark");if("initializer"in t&&"function"==typeof t.initializer){var a=t.initializer();i.addMark(e,a,o)}else{var u=t.value;i.addMark(e,u,o)}}else console.warn("makePropertyReplicatedMark error, "+e+" not found in target "+r)}(e.constructor?e.constructor:e,t,o,r)}},replicatedClass:function(r){return function(e){!function(r,e){n(r,!0,e)}(e,r)}}}),t._RF.push({},"ad011ZQACRAyL0TLfVJxpBr","SyncUtil",void 0);r("REPLICATE_OBJECT_INDEX","__repObj__");var i=r("REPLICATOR_INDEX","__RI__");r("IsSupportGetSet",!0);var a=Date.now();console.log("customRandom currentSeed: ",a),t._RF.pop()}}}));

System.register("chunks:///_virtual/TaskQueue.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"c733fO5fuJEJYG8VCrTFKgN","TaskQueue",void 0);var e=function(t,s){this.task=void 0,this.priority=void 0,this.task=t,this.priority=s},u=t("TaskQueue",function(){function t(){this._curTask=null,this._taskQueue=Array()}var s=t.prototype;return s.pushTask=function(t,s){void 0===s&&(s=0);var u=new e(t,s);if(this._taskQueue.length>0)for(var i=this._taskQueue.length-1;i>=0;--i)if(this._taskQueue[i].priority<=s)return void this._taskQueue.splice(i+1,0,u);this._taskQueue.splice(0,0,u),null==this._curTask&&this.executeNextTask()},s.clearTask=function(){this._curTask=null,this._taskQueue.length=0},s.executeNextTask=function(){var t=this,s=this._taskQueue.shift()||null;this._curTask=s,s&&s.task((function(){s===t._curTask?t.executeNextTask():console.warn("your task finish twice!")}))},t}());t("TaskManager",function(){function t(){this._taskQueues={}}t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.destory=function(){this._instance=null};var s=t.prototype;return s.pushTask=function(t,s){return void 0===s&&(s=0),this.getTaskQueue().pushTask(t,s)},s.pushTaskByTag=function(t,s,e){return void 0===e&&(e=0),this.getTaskQueue(s).pushTask(t,e)},s.clearTaskQueue=function(t){void 0===t&&(t=0);var s=this._taskQueues[t];s&&s.clearTask()},s.clearAllTaskQueue=function(){for(var t in this._taskQueues)this._taskQueues[t].clearTask();this._taskQueues={}},s.getTaskQueue=function(t){void 0===t&&(t=0);var s=this._taskQueues[t];return null==s&&(s=new u,this._taskQueues[t]=s),s},t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/UIArcheryNotice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts"],(function(n){var t,e,c,o,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,c=n._decorator},function(n){o=n.uiManager},function(n){i=n.UIView}],execute:function(){var r;e._RF.push({},"506a7BinuRPHJ7+8CYfP75T","UIArcheryNotice",void 0);var u=c.ccclass;n("default",u(r=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var c=e.prototype;return c.init=function(){},c.onOkClick=function(){o.close()},c.onClose=function(){},c.close=function(){},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIArcheryPay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts"],(function(t){var e,n,r,o,i,c,a;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t._decorator},function(t){c=t.uiManager},function(t){a=t.UIView}],execute:function(){var s;o._RF.push({},"60dcf/57RBJi44c9ADt5218","UIArcheryPay",void 0);var u=i.ccclass;i.property,t("default",u(s=function(t){function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).apiUrl=void 0,e.invoiceData=void 0,e}e(o,t);var i=o.prototype;return i.init=function(){this.apiUrl="https://api.telegram.org/bot6913858932:AAERD6qs_9IfH3MnAcfXjYpruIsfgtdC2R4/sendInvoice",this.invoiceData={chat_id:"",title:"Product Title",description:"Product Description",payload:"UniquePayload",provider_token:"284685063:TEST:YjllOGJhODViNWMz",start_parameter:"start",currency:"USD",prices:JSON.stringify([{label:"Product",amount:1e3}])}},i.openBot=function(){var t=n(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.invoiceData)});case 3:return e=t.sent,t.next=6,e.json();case 6:(n=t.sent).ok?(console.log("Invoice sent successfully:",n),"yjw_pay_bot",window.location.href="https://t.me/yjw_pay_bot"):console.error("Failed to send invoice:",n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error sending invoice:",t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),i.onOkClick=function(){c.close()},i.onClose=function(){},i.close=function(){},i.onPayTestClick=function(){},o}(a))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts"],(function(e){var t,r,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,s=e.Component},function(e){a=e.uiManager}],execute:function(){var n;r._RF.push({},"6691bmSYylDq6wcNvZhwxVR","UIConfig",void 0);var f=e("UIID",function(e){return e[e.UILogin=0]="UILogin",e[e.UIMain=1]="UIMain",e[e.Notice=2]="Notice",e[e.ResTest=3]="ResTest",e[e.ResKeepTest=4]="ResKeepTest",e[e.NetTest=5]="NetTest",e[e.EventTest=6]="EventTest",e[e.WasmTest=7]="WasmTest",e[e.ZshuffleWasmTest=8]="ZshuffleWasmTest",e[e.EthersTest=9]="EthersTest",e[e.Ethers02Test=10]="Ethers02Test",e[e.EnterGame=11]="EnterGame",e[e.ArcheryNotice=12]="ArcheryNotice",e[e.ArcheryPay=13]="ArcheryPay",e}({})),i=e("UICF",((n={})[f.UILogin]={prefab:"Prefab/Login"},n[f.UIMain]={prefab:"Prefab/Main"},n[f.Notice]={prefab:"Prefab/Notice"},n[f.ResTest]={prefab:"Prefab/ResTest"},n[f.ResKeepTest]={prefab:"Prefab/ResKeepTest"},n[f.NetTest]={prefab:"Prefab/NetTest"},n[f.EventTest]={prefab:"Prefab/EventTest"},n[f.WasmTest]={prefab:"Prefab/WasmTest"},n[f.ZshuffleWasmTest]={prefab:"Prefab/WasmZshuffleTest"},n[f.EthersTest]={prefab:"Prefab/EthersTest"},n[f.Ethers02Test]={prefab:"Prefab/Ethers02Test"},n[f.EnterGame]={prefab:"Prefab/game/UIGame"},n[f.ArcheryNotice]={prefab:"Prefab/game/archery/ArcheryNotice"},n[f.ArcheryPay]={prefab:"Prefab/game/archery/ArcheryPay"},n));e("UIConfig",function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.start=function(){a.initUIConf(i),a.open(f.UILogin)},r}(s));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIEthters02Test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./Ethers02Utils.ts","./ABI.ts"],(function(e){var n,t,r,s,o,i,a,c,l,u,f,d,p,h,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,l=e.Label,u=e.Node,f=e.EditBox},function(e){d=e.uiManager},function(e){p=e.UIView},function(e){h=e.Ethers02Utils},function(e){g=e.ABI}],execute:function(){var y,b,m,v,w,U,k,A,B,T,x,C;a._RF.push({},"fa960ijKgFPzJUOFQyZGIEG","UIEthters02Test",void 0);var I=c.ccclass,z=c.property;e("default",(y=z(l),b=z(u),m=z(u),v=z(l),w=z(f),I((A=n((k=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"myAddress",A,s(n)),r(n,"connectNode",B,s(n)),r(n,"controlNode",T,s(n)),r(n,"myblanace",x,s(n)),r(n,"transferAddress",C,s(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){},a.onClickConnect=function(){var e=o(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.connectWallet();case 2:null!=(n=e.sent)&&(this.myAddress.string="链接成功:address: "+n.slice(0,6)+"..."+n.slice(-4),this.connectNode.active=!1,this.controlNode.active=!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickReadBalance=function(){var e=o(i().mark((function e(){var n,t,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.signer.getBalance();case 2:return n=e.sent,console.log("mainBal:",n),t=ethers.utils.formatUnits(n,18),console.log("mainBal1:",t),this.myblanace.string="tBNB主币余额: "+t,r=new ethers.Contract(h.ChainParams.Token_USDTAddress,g.Token,h.provider),console.log("contract:",r),console.log("Ethers02Utils.address:",h.address),e.next=12,r.balanceOf(h.address);case 12:s=e.sent,console.log("bal:",s),this.myblanace.string+="\nBUSD: "+ethers.utils.formatUnits(s,18);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickTransfer=function(){var e=o(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ethers.Contract(h.ChainParams.Token_USDTAddress,g.Token,h.signer),console.log("转账给:",this.transferAddress.string),e.next=4,n.transfer(this.transferAddress.string,ethers.utils.parseUnits("0.1",18));case 4:return t=e.sent,e.next=7,t.wait(2);case 7:r=e.sent,console.log("转账完成:",r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.test_ethers=function(){console.log("test_ethers")},a.init=function(){},a.onOkClick=function(){d.close()},a.onClose=function(){},a.close=function(){},n}(p)).prototype,"myAddress",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(k.prototype,"connectNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(k.prototype,"controlNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(k.prototype,"myblanace",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(k.prototype,"transferAddress",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=k))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIEthtersTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./EthersUtils.ts","./ABI.ts"],(function(e){var n,t,r,s,o,i,a,c,l,u,f,d,p,h,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,l=e.Label,u=e.Node,f=e.EditBox},function(e){d=e.uiManager},function(e){p=e.UIView},function(e){h=e.EthersUtils},function(e){g=e.ABI}],execute:function(){var b,y,m,v,w,U,k,A,T,B,x,C;a._RF.push({},"1220a3bjTZKpbAoaVeZVwbu","UIEthtersTest",void 0);var I=c.ccclass,N=c.property;e("default",(b=N(l),y=N(u),m=N(u),v=N(l),w=N(f),I((A=n((k=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"myAddress",A,s(n)),r(n,"connectNode",T,s(n)),r(n,"controlNode",B,s(n)),r(n,"myblanace",x,s(n)),r(n,"transferAddress",C,s(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){},a.onClickConnect=function(){var e=o(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.connectWallet();case 2:null!=(n=e.sent)&&(this.myAddress.string="链接成功:address: "+n.slice(0,6)+"..."+n.slice(-4),this.connectNode.active=!1,this.controlNode.active=!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickReadBalance=function(){var e=o(i().mark((function e(){var n,t,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.signer.getBalance();case 2:return n=e.sent,console.log("mainBal:",n),t=ethers.utils.formatUnits(n,18),console.log("mainBal1:",t),this.myblanace.string="tBNB主币余额: "+t,r=new ethers.Contract(h.ChainParams.Token_USDTAddress,g.Token,h.provider),console.log("contract:",r),console.log("EthersUtils.address:",h.address),e.next=12,r.balanceOf(h.address);case 12:s=e.sent,console.log("bal:",s),this.myblanace.string+="\nBUSD: "+ethers.utils.formatUnits(s,18);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickTransfer=function(){var e=o(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ethers.Contract(h.ChainParams.Token_USDTAddress,g.Token,h.signer),console.log("转账给:",this.transferAddress.string),e.next=4,n.transfer(this.transferAddress.string,ethers.utils.parseUnits("0.1",18));case 4:return t=e.sent,e.next=7,t.wait(2);case 7:r=e.sent,console.log("转账完成:",r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.test_ethers=function(){console.log("test_ethers")},a.init=function(){},a.onOkClick=function(){d.close()},a.onClose=function(){},a.close=function(){},n}(p)).prototype,"myAddress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(k.prototype,"connectNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(k.prototype,"controlNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(k.prototype,"myblanace",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(k.prototype,"transferAddress",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=k))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIEventTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UIManager.ts","./UIView.ts","./EventId.ts"],(function(t){var n,e,o,i,s,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.EventManager},function(t){s=t.uiManager},function(t){c=t.UIView},function(t){r=t.EventId}],execute:function(){var u;e._RF.push({},"1afb5gE75ZH/K5dhPNJI+GI","UIEventTest",void 0);var a=o.ccclass;t("default",a(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.init=function(){},o.onOkClick=function(){s.close()},o.onClose=function(){},o.close=function(){},o.onLoad=function(){i.getInstance().addEventListener(r.TEST_01,this.test01)},o.onDestroy=function(){i.getInstance().removeEventListener(r.TEST_01,this.test01)},o.onEmit=function(){i.getInstance().raiseEvent(r.TEST_01,123)},o.test01=function(){console.log("test01")},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./UIManager.ts"],(function(n){var t,e,o,i,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator},function(n){i=n.UIView},function(n){c=n.uiManager}],execute:function(){var u;e._RF.push({},"9e1e8thuMNAlqVlMHjiM9Lg","UIGame",void 0);var r=o.ccclass;n("default",r(u=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.init=function(){},o.onOkClick=function(){c.close()},o.onClose=function(){},o.close=function(){},e}(i))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/UILogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./UIConfig.ts"],(function(n){var t,i,r,e,o,a,c,l,u,s,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,r=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Label,l=n.log},function(n){u=n.uiManager},function(n){s=n.UIView},function(n){f=n.UIID}],execute:function(){var p,g,I,L,U;o._RF.push({},"b3f266JdntDH7IkkzamkLLF","UILogin",void 0);var h=a.ccclass,y=a.property;n("UILogin",(p=h("UILogin"),g=y(c),p((U=t((L=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,r(t,"url",U,e(t)),t}i(t,n);var o=t.prototype;return o.onLogin=function(){u.replace(f.UIMain)},o.start=function(){l("UILogin start: ",window.location.href),this.url.string=window.location.href},t}(s)).prototype,"url",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UIManager.ts","./UIView.ts","./EventId.ts","./UIConfig.ts"],(function(n){var e,t,o,s,i,c,a,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){s=n.EventManager},function(n){i=n.uiManager},function(n){c=n.UIView},function(n){a=n.EventId},function(n){r=n.UIID}],execute:function(){var u;t._RF.push({},"3de626wb3BPRZwSxqOajxod","UIMain",void 0);var l=o.ccclass;o.property,n("UIMain",l("UIMain")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onLoad=function(){s.getInstance().addEventListener(a.TEST_01,this.test01),this.onEnterGame()},o.onDestroy=function(){s.getInstance().removeEventListener(a.TEST_01,this.test01)},o.onEmit=function(){s.getInstance().raiseEvent(a.TEST_01,123)},o.test01=function(){console.log("uimain test01")},o.onGG=function(){console.log("main onGG"),i.open(r.Notice)},o.onResTest=function(){console.log("main onResTest"),i.open(r.ResTest)},o.onResKeepTest=function(){console.log("main onResKeepTest"),i.open(r.ResKeepTest)},o.onNetTest=function(){console.log("main onNetTest"),i.open(r.NetTest)},o.onEventTest=function(){console.log("main onEventTest"),i.open(r.EventTest)},o.onWasmTest=function(){console.log("main onWasmTest"),i.open(r.WasmTest)},o.onZshuffleWasmTest=function(){console.log("main onZshuffleWasmTest"),i.open(r.ZshuffleWasmTest)},o.onEthersTest=function(){console.log("main onEthersTest"),i.open(r.EthersTest)},o.onEthers02Test=function(){console.log("main onEthers02Test"),i.open(r.Ethers02Test)},o.onEnterGame=function(){console.log("main onEnterGame"),i.open(r.EnterGame)},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./UIView.ts"],(function(e){var t,i,n,o,s,a,u,r,l,h,c,I;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,n=e.Node,o=e.UITransform,s=e.view,a=e.director,u=e.log,r=e.instantiate,l=e.isValid},function(e){h=e.resLoader},function(e){c=e.UIShowTypes,I=e.UIView}],execute:function(){i._RF.push({},"1e5dcyfKDdEoIrGOEeuwIfW","UIManager",void 0);var d=e("UIManager",function(){function e(){this.useCount=0,this.BackGroundUI=0,this.isClosing=!1,this.isOpening=!1,this.UICache={},this.UIStack=[],this.UIOpenQueue=[],this.UICloseQueue=[],this.UIConf={},this.uiOpenBeforeDelegate=null,this.uiOpenDelegate=null,this.uiCloseDelegate=null}var i=e.prototype;return i.initUIConf=function(e){this.UIConf=e},i.setUIConf=function(e,t){this.UIConf[e]=t},i.preventTouch=function(e){var t=new n;return t.name="preventTouch",t.addComponent(o).setContentSize(s.getVisibleSize()),t.on(n.EventType.TOUCH_START,(function(e){e.propagationStopped=!0}),t),a.getScene().getChildByName("Canvas").addChild(t),t.setSiblingIndex(e-.01),t},i.autoExecNextUI=function(){if(this.UICloseQueue.length>0){var e=this.UICloseQueue[0];this.UICloseQueue.splice(0,1),this.close(e)}else if(this.UIOpenQueue.length>0){var t=this.UIOpenQueue[0];this.UIOpenQueue.splice(0,1),this.open(t.uiId,t.uiArgs)}},i.autoExecAnimation=function(e,t,i){i()},i.autoLoadRes=function(e,t){t()},i.updateUI=function(){for(var e=0,t=this.UIStack.length-1;t>=0;--t){var i=this.UIStack[t].uiView.showType;if(this.UIStack[t].uiView.node.active=!0,c.UIFullScreen==i)break;if(c.UISingle==i){for(var n=0;n<this.BackGroundUI;++n)this.UIStack[n]&&(this.UIStack[n].uiView.node.active=!0);e=this.BackGroundUI;break}}for(var o=e;o<t;++o)this.UIStack[o].uiView.node.active=!1},i.getOrCreateUI=function(e,t,i,n){var o=this,s=this.UICache[e];if(s)i(s);else{var a=this.UIConf[e].prefab;if(null==a)return u("getOrCreateUI "+e+" faile, prefab conf not found!"),void i(null);h.load(a,t,(function(t,l){if(t)return u("getOrCreateUI loadRes "+e+" faile, path: "+a+" error: "+t),void i(null);var h=r(l);return null==h?(u("getOrCreateUI instantiate "+e+" faile, path: "+a),i(null),void l.decRef()):null==(s=h.getComponent(I))?(u("getOrCreateUI getComponent "+e+" faile, path: "+a),h.destroy(),i(null),void l.decRef()):void o.autoLoadRes(s,(function(){s.init(n),i(s),s.cacheAsset(l)}))}))}},i.onUIOpen=function(e,t,i,u){var r=this;if(null!=t){i.uiView=t,t.node.active=!0;var l=t.getComponent(o);if(l||(l=t.addComponent(o)),t.quickClose){var h=t.node.getChildByName("background");if(!h)(h=new n).name="background",h.addComponent(o).setContentSize(s.getVisibleSize()),t.node.addChild(h),t.node.setSiblingIndex(-1);h.targetOff(n.EventType.TOUCH_START),h.on(n.EventType.TOUCH_START,(function(e){e.propagationStopped=!0,r.close(t)}),h)}a.getScene().getChildByName("Canvas").addChild(t.node),t.node.setSiblingIndex(i.zOrder||this.UIStack.length),this.updateUI();var c=0;this.UIStack.length>1&&(c=this.UIStack[this.UIStack.length-2].uiId),this.uiOpenBeforeDelegate&&this.uiOpenBeforeDelegate(e,c),t.onOpen(c,u),this.autoExecAnimation(t,"uiOpen",(function(){t.onOpenAniOver(),r.uiOpenDelegate&&r.uiOpenDelegate(e,c)}))}},i.open=function(e,t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=null);var o={uiId:e,uiArgs:t,uiView:null};this.isOpening||this.isClosing?this.UIOpenQueue.push(o):-1==this.getUIIndex(e)?(o.zOrder=this.UIStack.length+1,this.UIStack.push(o),this.UIConf[e].preventTouch&&(o.preventNode=this.preventTouch(o.zOrder)),this.isOpening=!0,this.getOrCreateUI(e,i,(function(i){if(o.isClose||null==i)return u("getOrCreateUI "+e+" faile!\n                        close state : "+o.isClose+" , uiView : "+i),n.isOpening=!1,void(o.preventNode&&(o.preventNode.destroy(),o.preventNode=null));n.onUIOpen(e,i,o,t),n.isOpening=!1,n.autoExecNextUI()}),t)):this.closeToUI(e,t)},i.replace=function(e,t){void 0===t&&(t=null),this.close(this.UIStack[this.UIStack.length-1].uiView),this.open(e,t)},i.close=function(e){var t=this,i=this.UIStack.length;if(i<1||this.isClosing||this.isOpening)e&&this.UICloseQueue.push(e);else{var n;if(e)for(var o=this.UIStack.length-1;o>=0;o--){var s=this.UIStack[o];if(s.uiView===e){n=s,this.UIStack.splice(o,1);break}}else n=this.UIStack.pop();if(void 0!==n){var a=n.uiId,r=n.uiView;if(n.isClose=!0,n.preventNode&&(n.preventNode.destroy(),n.preventNode=null),r){var l=this.UIStack[i-2];this.updateUI();var h=function(){t.isClosing=!1,l&&l.uiView&&t.isTopUI(l.uiId)?(l.uiView.node.active=!0,l.uiView.onTop(a,r.onClose())):r.onClose(),t.uiCloseDelegate&&t.uiCloseDelegate(a),r.cache?(t.UICache[a]=r,r.node.removeFromParent(),u("uiView removeFromParent "+n.uiId)):(r.releaseAssets(),r.node.destroy(),u("uiView destroy "+n.uiId)),t.autoExecNextUI()};this.autoExecAnimation(r,"uiClose",h)}}}},i.closeAll=function(){for(var e,i=t(this.UIStack);!(e=i()).done;){var n=e.value;n.isClose=!0,n.preventNode&&(n.preventNode.destroy(),n.preventNode=null),n.uiView&&(n.uiView.onClose(),n.uiView.releaseAssets(),n.uiView.node.destroy())}this.UIOpenQueue=[],this.UICloseQueue=[],this.UIStack=[],this.isOpening=!1,this.isClosing=!1},i.closeToUI=function(e,t,i){void 0===i&&(i=!0);var n=this.getUIIndex(e);if(-1!=n){n=i?n:n+1;for(var o=this.UIStack.length-1;o>=n;--o){var s=this.UIStack.pop();if(s){var a=s.uiId,u=s.uiView;s.isClose=!0,s.preventNode&&(s.preventNode.destroy(),s.preventNode=null),this.uiCloseDelegate&&this.uiCloseDelegate(a),u&&(u.onClose(),u.cache?(this.UICache[a]=u,u.node.removeFromParent()):(u.releaseAssets(),u.node.destroy()))}}this.updateUI(),this.UIOpenQueue=[],this.UICloseQueue=[],i&&this.open(e,t)}},i.clearCache=function(){for(var e in this.UICache){var t=this.UICache[e];l(t.node)&&(l(t)&&t.releaseAssets(),t.node.destroy())}this.UICache={}},i.isTopUI=function(e){return 0!=this.UIStack.length&&this.UIStack[this.UIStack.length-1].uiId==e},i.getUI=function(e){for(var t=0;t<this.UIStack.length;t++){var i=this.UIStack[t];if(e==i.uiId)return i.uiView}return null},i.getTopUI=function(){return this.UIStack.length>0?this.UIStack[this.UIStack.length-1].uiView:null},i.getUIIndex=function(e){for(var t=0;t<this.UIStack.length;t++){if(e==this.UIStack[t].uiId)return t}return-1},e}());e("uiManager",new d);i._RF.pop()}}}));

System.register("chunks:///_virtual/UINetTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetInterface.ts","./NetManager.ts","./NetNode.ts","./WebSock.ts","./UIManager.ts","./UIView.ts"],(function(e){var t,n,i,o,r,a,c,l,s,u,g,b,f,p,d,h,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Label,l=e.RichText,s=e.view,u=e.director,g=e.Node},function(e){b=e.DefStringProtocol},function(e){f=e.NetManager},function(e){p=e.NetNode},function(e){d=e.WebSock},function(e){h=e.uiManager},function(e){L=e.UIView}],execute:function(){var v,m,w,y,N,C,I,k;r._RF.push({},"e9c6cZgkitIX4Kd5ZWhjn+Q","UINetTest",void 0);var _=a.ccclass,S=a.property,T=function(){function e(){}var t=e.prototype;return t.getLabel=function(){var e=null,t=s.getVisibleSize(),n=u.getScene();if(n){var i=n.getChildByName("@net_tip_label");if(i)e=i.getComponent(c);else{var o=new g("@net_tip_label");e=o.addComponent(c),o.setPosition(t.width/2,t.height/2)}}return e},t.connectTips=function(e){e?(this.getLabel().string="Connecting",this.getLabel().node.active=!0):this.getLabel().node.active=!1},t.reconnectTips=function(e){e?(this.getLabel().string="Reconnecting",this.getLabel().node.active=!0):this.getLabel().node.active=!1},t.requestTips=function(e){e?(this.getLabel().string="Requesting",this.getLabel().node.active=!0):this.getLabel().node.active=!1},e}();e("default",(v=S(c),m=S(c),w=S(l),_((C=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"textLabel",C,o(t)),i(t,"urlLabel",I,o(t)),i(t,"msgLabel",k,o(t)),t.lineCount=0,t}n(t,e);var r=t.prototype;return r.onOkClick=function(){h.close()},r.onLoad=function(){var e=this,t=new p;t.init(new d,new b,new T),t.setResponeHandler(0,(function(t,n){if(e.lineCount>5){var i=e.msgLabel.string.search("\n");e.msgLabel.string=e.msgLabel.string.substr(i+1)}e.msgLabel.string+=n+"\n",++e.lineCount})),f.getInstance().setNetNode(t)},r.onConnectClick=function(){f.getInstance().connect({url:this.urlLabel.string})},r.onSendClick=function(){f.getInstance().send(this.textLabel.string)},r.onDisconnectClick=function(){f.getInstance().close()},t}(L)).prototype,"textLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"urlLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"msgLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=N))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UINotice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts"],(function(n){var t,o,c,e,i;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,c=n._decorator},function(n){e=n.uiManager},function(n){i=n.UIView}],execute:function(){var r;o._RF.push({},"596ackk9WpJyKrz5sGRzgBG","UINotice",void 0);var u=c.ccclass;n("default",u(r=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var c=o.prototype;return c.init=function(){},c.onOkClick=function(){e.close()},c.onClose=function(){},c.close=function(){},o}(i))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIResKeepTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLeakChecker.ts","./ResLoader.ts","./ResUtil.ts","./UIManager.ts","./UIView.ts"],(function(e){var t,n,i,r,o,a,c,s,l,u,h,d,f,p,g,b,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.CCBoolean,s=e.Node,l=e.Label,u=e.assetManager,h=e.Prefab,d=e.SpriteFrame,f=e.Sprite},function(e){p=e.ResLeakChecker},function(e){g=e.resLoader},function(e){b=e.ResUtil},function(e){m=e.uiManager},function(e){y=e.UIView}],execute:function(){var k,v,C,N,L,R,U,w;o._RF.push({},"a580aHQrT5D/KCCrYOnvSIk","UIResKeepTest",void 0);var I=a.ccclass,M=a.property;e("default",(k=M(c),v=M(s),C=M(l),I((R=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"resUtilMode",R,r(t)),i(t,"attachNode",U,r(t)),i(t,"dumpLabel",w,r(t)),t.checker=new p,t}n(t,e);var o=t.prototype;return o.start=function(){this.checker.startCheck()},o.init=function(){},o.onOkClick=function(){m.close()},o.onClose=function(){},o.close=function(){},o.onDump=function(){this.dumpLabel.string="当前资源总数:"+u.assets.count},o.onAdd=function(){var e=this;g.load("prefabDir/HelloWorld",h,(function(t,n){if(!t){var i=b.instantiate(n);i.parent=e.attachNode,i.setPosition(500*Math.random()-250,i.position.y),console.log(i.position)}}))},o.onSub=function(){this.attachNode.children.length>0&&this.attachNode.children[this.attachNode.children.length-1].destroy()},o.onAssign=function(){var e=this;g.load("images/test/spriteFrame",d,(function(t,n){if(t)console.error(t);else if(e.checker.traceAsset(n),e.attachNode.children.length>0){var i=e.attachNode.children[e.attachNode.children.length-1];i.getComponent(f).spriteFrame=b.assignWith(n,i,!0)}}))},o.onClean=function(){this.attachNode.destroyAllChildren(),this.checker.reset()},t}(y)).prototype,"resUtilMode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=t(L.prototype,"attachNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(L.prototype,"dumpLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=L))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIResTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./UIManager.ts","./UIView.ts"],(function(e){var t,n,o,r,a,s,i,l,c,u,d,p,f,h,m,v,g,R,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,i=e._decorator,l=e.Node,c=e.Label,u=e.resources,d=e.Prefab,p=e.instantiate,f=e.sp,h=e.assetManager,m=e.SpriteFrame,v=e.Sprite},function(e){g=e.resLoader},function(e){R=e.uiManager},function(e){b=e.UIView}],execute:function(){var y,L,D,N,C,U;s._RF.push({},"3ef46S3CnhEC6cMP3THHmWg","UIResTest",void 0);var w=i.ccclass,I=i.property;e("default",(y=I(l),L=I(c),w((C=t((N=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"attachNode",C,r(t)),o(t,"dumpLabel",U,r(t)),t.ress=[],t.remoteRes=null,t}n(t,e);var s=t.prototype;return s.init=function(){},s.onOkClick=function(){R.close()},s.onClose=function(){},s.close=function(){},s.onLoadRes=function(){var e=this;u.load("prefabDir/HelloWorld",d,(function(t,n){t||(p(n).parent=e.attachNode)}))},s.onUnloadRes=function(){var e;null==(e=this.attachNode)||e.destroyAllChildren(),u.release("prefabDir/HelloWorld",d)},s.onMyLoadRes=function(){var e=this;this.ress.length>0?console.log("this.ress.length is "+this.ress.length):(g.loadDir("prefabDir",d,(function(t,n){if(!t){var o;(o=e.ress).push.apply(o,n);for(var r=0;r<n.length;++r)p(n[r]).parent=e.attachNode}})),g.load("alien/alien-pro",f.SkeletonData,(function(t,n){if(!t){var o,r=new l;r.parent=e.attachNode;var a=r.addComponent(f.Skeleton);a.skeletonData=n,a.setAnimation(0,"run",!0),null==(o=e.ress)||o.push(n)}})))},s.onMyUnloadRes=function(){var e;if(null==(e=this.attachNode)||e.destroyAllChildren(),this.ress){for(var t,n=a(this.ress);!(t=n()).done;){var o=t.value;h.releaseAsset(o)}this.ress=[]}},s.onLoadRemote=function(){var e=this;console.log("onLoadRemote"),g.load("http://tools.itharbors.com/christmas/res/tree.png",(function(t,n){if(console.log(t,n),!t&&n){e.remoteRes=n;var o=new m;o.texture=n;var r=new l("tmp");r.addComponent(v).spriteFrame=o,r.parent=e.attachNode}}))},s.onUnloadRemote=function(){var e,t;console.log("onUnloadRemote"),null==(e=this.attachNode)||e.destroyAllChildren(),null==(t=this.remoteRes)||t.decRef()},s.onDump=function(){this.dumpLabel.string="当前资源总数:"+h.assets.count},t}(b)).prototype,"attachNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(N.prototype,"dumpLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=N))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResKeeper.ts"],(function(e){var n,i,r,t,o,c,u,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.Enum},function(e){l=e.ResKeeper}],execute:function(){var a,p,s,f,y,d,I;o._RF.push({},"b3fd73zbXFPLrgj6Pd3HWEd","UIView",void 0);var b=c.ccclass,h=c.property,U=e("UIShowTypes",function(e){return e[e.UIFullScreen=0]="UIFullScreen",e[e.UIAddition=1]="UIAddition",e[e.UISingle=2]="UISingle",e}({}));e("UIView",(a=h({type:u(U)}),b(((I=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,r(n,"quickClose",f,t(n)),r(n,"cache",y,t(n)),r(n,"showType",d,t(n)),n.UIid=0,n}i(n,e);var o=n.prototype;return o.init=function(){},o.onOpen=function(e){},o.onOpenAniOver=function(){},o.onClose=function(){},o.onTop=function(e){},n}(l)).uiIndex=0,f=n((s=I).prototype,"quickClose",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=n(s.prototype,"cache",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=n(s.prototype,"showType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.UISingle}}),p=s))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIWasmTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./hello_wasm.ts"],(function(t){var e,n,i,s,o,a,r,c,u,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.BufferAsset},function(t){c=t.uiManager},function(t){u=t.UIView},function(t){l=t.initSync,f=t.greet}],execute:function(){var p,_,y,h;o._RF.push({},"a1abedxOkVJLZ77y9HEYDYx","UIWasmTest",void 0);var m=a.ccclass,w=a.property;t("default",(p=w(r),m((h=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"wasm_asset",h,s(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.start_init_api()},o.start_init_api=function(){var t,e=null==(t=this.wasm_asset)?void 0:t.buffer();l(e)},o.test_wasm=function(){console.log("test_wasm"),f("游戏访问")},o.init=function(){},o.onOkClick=function(){c.close()},o.onClose=function(){},o.close=function(){},e}(u)).prototype,"wasm_asset",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=y))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIZshuffleWasmTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./zshuffle_wasm.ts"],(function(t){var e,n,i,s,o,a,r,c,u,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.BufferAsset},function(t){c=t.uiManager},function(t){u=t.UIView},function(t){l=t.initSync,f=t.generate_key}],execute:function(){var p,_,g,h;o._RF.push({},"b8278M/xsRJaId0gaD0gTP7","UIZshuffleWasmTest",void 0);var y=a.ccclass,m=a.property;t("default",(p=m(r),y((h=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"wasm_asset",h,s(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.start_init_api()},o.start_init_api=function(){var t,e=null==(t=this.wasm_asset)?void 0:t.buffer();l(e)},o.test_wasm=function(){console.log("test_wasm_z");var t=f();console.log("ret:",t)},o.init=function(){},o.onOkClick=function(){c.close()},o.onClose=function(){},o.close=function(){},e}(u)).prototype,"wasm_asset",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=g))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"8718cVEehBCwLRUy9euJpGC","Utils",void 0);n("default",function(){function n(){}return n.arrayUnique=function(n){return n.filter((function(t,e){return n.indexOf(t)===e}))},n.randomNum=function(n,t){return parseInt((Math.random()*(t-n+1)+n).toString(),10)},t(n,null,[{key:"Rad2Deg",get:function(){return 360/(2*Math.PI)}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WebSock.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"70df2VbIU9B66Fr+op8FKJp","WebSock",void 0);t("WebSock",function(){function t(){this._ws=null,this.onConnected=null,this.onMessage=null,this.onError=null,this.onClosed=null}var e=t.prototype;return e.connect=function(t){var e=this;if(this._ws&&this._ws.readyState===WebSocket.CONNECTING)return console.log("websocket connecting, wait for a moment..."),!1;var n=null;if(t.url)n=t.url;else{var s=t.ip,o=t.port;n=t.protocol+"://"+s+":"+o}return this._ws=new WebSocket(n),this._ws.binaryType=t.binaryType?t.binaryType:"arraybuffer",this._ws.onmessage=function(t){(0,e.onMessage)(t.data)},this._ws.onopen=this.onConnected,this._ws.onerror=this.onError,this._ws.onclose=this.onClosed,!0},e.send=function(t){return this._ws&&this._ws.readyState==WebSocket.OPEN?(this._ws.send(t),1):-1},e.close=function(t,e){this._ws&&this._ws.close(t,e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/zshuffle_wasm.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n,e){var r,t,_;return{setters:[function(n){r=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){_=n.cclegacy}],execute:function(){var a;n({aggregate_keys:function(n){var e,r;try{var t=a.__wbindgen_add_to_stack_pointer(-16);a.aggregate_keys(t,d(n));var _=h()[t/4+0],i=h()[t/4+1],o=h()[t/4+2],c=h()[t/4+3],b=_,f=i;if(c)throw b=0,f=0,m(o);return e=b,r=f,u(b,f)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(e,r,1)}},card_to_index:function(n){try{var e=a.__wbindgen_add_to_stack_pointer(-16);a.card_to_index(e,d(n));var r=h()[e/4+0],t=h()[e/4+1];if(h()[e/4+2])throw m(t);return r}finally{a.__wbindgen_add_to_stack_pointer(16)}},decode_point:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16);a.decode_point(r,d(n),d(e));var t=h()[r/4+0],_=h()[r/4+1];if(h()[r/4+2])throw m(_);return t}finally{a.__wbindgen_add_to_stack_pointer(16)}},default:U,generate_key:function(){try{var n=a.__wbindgen_add_to_stack_pointer(-16);a.generate_key(n);var e=h()[n/4+0],r=h()[n/4+1];if(h()[n/4+2])throw m(r);return m(e)}finally{a.__wbindgen_add_to_stack_pointer(16)}},index_to_card:function(n){try{var e=a.__wbindgen_add_to_stack_pointer(-16);a.index_to_card(e,n);var r=h()[e/4+0],t=h()[e/4+1];if(h()[e/4+2])throw m(t);return m(r)}finally{a.__wbindgen_add_to_stack_pointer(16)}},initSync:function(n){if(void 0!==a)return a;var e=T();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));return W(new WebAssembly.Instance(n,e),n)},init_masked_cards:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16),t=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),_=w;a.init_masked_cards(r,t,_,e);var i=h()[r/4+0],o=h()[r/4+1];if(h()[r/4+2])throw m(o);return m(i)}finally{a.__wbindgen_add_to_stack_pointer(16)}},init_prover_key:function(n){a.init_prover_key(n)},init_reveal_key:function(){a.init_reveal_key()},mask_card:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16),t=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),_=w;a.mask_card(r,t,_,e);var i=h()[r/4+0],o=h()[r/4+1];if(h()[r/4+2])throw m(o);return m(i)}finally{a.__wbindgen_add_to_stack_pointer(16)}},public_compress:function(n){var e,r;try{var t=a.__wbindgen_add_to_stack_pointer(-16);a.public_compress(t,d(n));var _=h()[t/4+0],i=h()[t/4+1],o=h()[t/4+2],c=h()[t/4+3],b=_,f=i;if(c)throw b=0,f=0,m(o);return e=b,r=f,u(b,f)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(e,r,1)}},public_uncompress:function(n){try{var e=a.__wbindgen_add_to_stack_pointer(-16),r=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),t=w;a.public_uncompress(e,r,t);var _=h()[e/4+0],i=h()[e/4+1];if(h()[e/4+2])throw m(i);return m(_)}finally{a.__wbindgen_add_to_stack_pointer(16)}},refresh_joint_key:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16),t=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),_=w;a.refresh_joint_key(r,t,_,e);var i=h()[r/4+0],o=h()[r/4+1],c=h()[r/4+2];if(h()[r/4+3])throw m(c);var u=function(n,e){n>>>=0;for(var r=function(){null!==A&&0!==A.byteLength||(A=new Uint32Array(a.memory.buffer));return A}().subarray(n/4,n/4+e),t=[],_=0;_<r.length;_++)t.push(m(r[_]));return t}(i,o).slice();return a.__wbindgen_free(i,4*o,4),u}finally{a.__wbindgen_add_to_stack_pointer(16)}},reveal_card:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16),t=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),_=w;a.reveal_card(r,t,_,d(e));var i=h()[r/4+0],o=h()[r/4+1];if(h()[r/4+2])throw m(o);return m(i)}finally{a.__wbindgen_add_to_stack_pointer(16)}},reveal_card_with_snark:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16),t=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),_=w;a.reveal_card_with_snark(r,t,_,d(e));var i=h()[r/4+0],o=h()[r/4+1];if(h()[r/4+2])throw m(o);return m(i)}finally{a.__wbindgen_add_to_stack_pointer(16)}},shuffle_cards:function(n,e){try{var r=a.__wbindgen_add_to_stack_pointer(-16),t=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),_=w;a.shuffle_cards(r,t,_,d(e));var i=h()[r/4+0],o=h()[r/4+1];if(h()[r/4+2])throw m(o);return m(i)}finally{a.__wbindgen_add_to_stack_pointer(16)}},unmask_card:function(n,e,r){try{var t=a.__wbindgen_add_to_stack_pointer(-16),_=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;a.unmask_card(t,_,i,d(e),d(r));var o=h()[t/4+0],c=h()[t/4+1];if(h()[t/4+2])throw m(c);return o}finally{a.__wbindgen_add_to_stack_pointer(16)}},verify_masked_card:function(n,e,r,t){try{var _=a.__wbindgen_add_to_stack_pointer(-16),i=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),o=w,c=y(t,a.__wbindgen_malloc,a.__wbindgen_realloc),u=w;a.verify_masked_card(_,i,o,e,d(r),c,u);var b=h()[_/4+0],f=h()[_/4+1];if(h()[_/4+2])throw m(f);return 0!==b}finally{a.__wbindgen_add_to_stack_pointer(16)}},verify_revealed_card:function(n,e,r){try{var t=a.__wbindgen_add_to_stack_pointer(-16),_=y(n,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;a.verify_revealed_card(t,_,i,d(e),d(r));var o=h()[t/4+0],c=h()[t/4+1];if(h()[t/4+2])throw m(c);return 0!==o}finally{a.__wbindgen_add_to_stack_pointer(16)}},verify_shuffled_cards:function(n,e,r){try{var t=a.__wbindgen_add_to_stack_pointer(-16),_=y(r,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;a.verify_shuffled_cards(t,d(n),d(e),_,i);var o=h()[t/4+0],c=h()[t/4+1];if(h()[t/4+2])throw m(c);return 0!==o}finally{a.__wbindgen_add_to_stack_pointer(16)}}}),_._RF.push({},"6f65dpnt+hDs5+gMOW3sHie","zshuffle_wasm",void 0);var i="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:function(){throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&i.decode();var o=null;function c(){return null!==o&&0!==o.byteLength||(o=new Uint8Array(a.memory.buffer)),o}function u(n,e){return n>>>=0,i.decode(c().subarray(n,n+e))}var b=new Array(128).fill(void 0);b.push(void 0,null,!0,!1);var f=b.length;function d(n){f===b.length&&b.push(b.length+1);var e=f;return f=b[e],b[e]=n,e}function l(n){return b[n]}var w=0,g="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:function(){throw Error("TextEncoder not available")}},s="function"==typeof g.encodeInto?function(n,e){return g.encodeInto(n,e)}:function(n,e){var r=g.encode(n);return e.set(r),{read:n.length,written:r.length}};function y(n,e,r){if(void 0===r){var t=g.encode(n),_=e(t.length,1)>>>0;return c().subarray(_,_+t.length).set(t),w=t.length,_}for(var a=n.length,i=e(a,1)>>>0,o=c(),u=0;u<a;u++){var b=n.charCodeAt(u);if(b>127)break;o[i+u]=b}if(u!==a){0!==u&&(n=n.slice(u)),i=r(i,a,a=u+3*n.length,1)>>>0;var f=c().subarray(i+u,i+a);i=r(i,a,u+=s(n,f).written,1)>>>0}return w=u,i}function p(n){return null==n}var v=null;function h(){return null!==v&&0!==v.byteLength||(v=new Int32Array(a.memory.buffer)),v}function m(n){var e=l(n);return function(n){n<132||(b[n]=f,f=n)}(n),e}var k=null;function x(n){var e=typeof n;if("number"==e||"boolean"==e||null==n)return""+n;if("string"==e)return'"'+n+'"';if("symbol"==e){var r=n.description;return null==r?"Symbol":"Symbol("+r+")"}if("function"==e){var t=n.name;return"string"==typeof t&&t.length>0?"Function("+t+")":"Function"}if(Array.isArray(n)){var _=n.length,a="[";_>0&&(a+=x(n[0]));for(var i=1;i<_;i++)a+=", "+x(n[i]);return a+="]"}var o,c=/\[object ([^\]]+)\]/.exec(toString.call(n));if(!(c.length>1))return toString.call(n);if("Object"==(o=c[1]))try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?n.name+": "+n.message+"\n"+n.stack:o}var A=null;function S(n,e){try{return n.apply(this,e)}catch(n){a.__wbindgen_exn_store(d(n))}}function j(n,e){return R.apply(this,arguments)}function R(){return(R=r(t().mark((function n(e,r){var _,a;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("function"==typeof Response&&e instanceof Response)){n.next=23;break}if("function"!=typeof WebAssembly.instantiateStreaming){n.next=15;break}return n.prev=2,n.next=5,WebAssembly.instantiateStreaming(e,r);case 5:return n.abrupt("return",n.sent);case 8:if(n.prev=8,n.t0=n.catch(2),"application/wasm"==e.headers.get("Content-Type")){n.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n.t0),n.next=15;break;case 14:throw n.t0;case 15:return n.next=17,e.arrayBuffer();case 17:return _=n.sent,n.next=20,WebAssembly.instantiate(_,r);case 20:return n.abrupt("return",n.sent);case 23:return n.next=25,WebAssembly.instantiate(e,r);case 25:if(!((a=n.sent)instanceof WebAssembly.Instance)){n.next=30;break}return n.abrupt("return",{instance:a,module:e});case 30:return n.abrupt("return",a);case 31:case"end":return n.stop()}}),n,null,[[2,8]])})))).apply(this,arguments)}function T(){var n={wbg:{}};return n.wbg.__wbindgen_string_new=function(n,e){return d(u(n,e))},n.wbg.__wbindgen_string_get=function(n,e){var r=l(e),t="string"==typeof r?r:void 0,_=p(t)?0:y(t,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;h()[n/4+1]=i,h()[n/4+0]=_},n.wbg.__wbindgen_object_drop_ref=function(n){m(n)},n.wbg.__wbindgen_is_object=function(n){var e=l(n);return"object"==typeof e&&null!==e},n.wbg.__wbindgen_is_undefined=function(n){return void 0===l(n)},n.wbg.__wbindgen_in=function(n,e){return l(n)in l(e)},n.wbg.__wbindgen_error_new=function(n,e){return d(new Error(u(n,e)))},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return l(n)==l(e)},n.wbg.__wbindgen_boolean_get=function(n){var e=l(n);return"boolean"==typeof e?e?1:0:2},n.wbg.__wbindgen_number_get=function(n,e){var r=l(e),t="number"==typeof r?r:void 0;(null!==k&&0!==k.byteLength||(k=new Float64Array(a.memory.buffer)),k)[n/8+1]=p(t)?0:t,h()[n/4+0]=!p(t)},n.wbg.__wbindgen_number_new=function(n){return d(n)},n.wbg.__wbg_getwithrefkey_15c62c2b8546208d=function(n,e){return d(l(n)[l(e)])},n.wbg.__wbg_set_20cbc34131e76824=function(n,e,r){l(n)[m(e)]=m(r)},n.wbg.__wbindgen_object_clone_ref=function(n){return d(l(n))},n.wbg.__wbg_crypto_1d1f22824a6a080c=function(n){return d(l(n).crypto)},n.wbg.__wbg_process_4a72847cc503995b=function(n){return d(l(n).process)},n.wbg.__wbg_versions_f686565e586dd935=function(n){return d(l(n).versions)},n.wbg.__wbg_node_104a2ff8d6ea03a2=function(n){return d(l(n).node)},n.wbg.__wbindgen_is_string=function(n){return"string"==typeof l(n)},n.wbg.__wbg_require_cca90b1a94a0255b=function(){return S((function(){return d(e.require)}),arguments)},n.wbg.__wbindgen_is_function=function(n){return"function"==typeof l(n)},n.wbg.__wbg_msCrypto_eb05e62b530a1508=function(n){return d(l(n).msCrypto)},n.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return S((function(n,e){l(n).randomFillSync(m(e))}),arguments)},n.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return S((function(n,e){l(n).getRandomValues(l(e))}),arguments)},n.wbg.__wbg_get_bd8e338fbd5f5cc8=function(n,e){return d(l(n)[e>>>0])},n.wbg.__wbg_length_cd7af8117672b8b8=function(n){return l(n).length},n.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return d(new Array)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(n,e){return d(new Function(u(n,e)))},n.wbg.__wbg_next_40fc327bfc8770e6=function(n){return d(l(n).next)},n.wbg.__wbg_next_196c84450b364254=function(){return S((function(n){return d(l(n).next())}),arguments)},n.wbg.__wbg_done_298b57d23c0fc80c=function(n){return l(n).done},n.wbg.__wbg_value_d93c65011f51a456=function(n){return d(l(n).value)},n.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return d(Symbol.iterator)},n.wbg.__wbg_get_e3c254076557e348=function(){return S((function(n,e){return d(Reflect.get(l(n),l(e)))}),arguments)},n.wbg.__wbg_call_27c0f87801dedf93=function(){return S((function(n,e){return d(l(n).call(l(e)))}),arguments)},n.wbg.__wbg_new_72fb9a18b5ae2624=function(){return d(new Object)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return S((function(){return d(self.self)}),arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return S((function(){return d(window.window)}),arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return S((function(){return d(globalThis.globalThis)}),arguments)},n.wbg.__wbg_global_207b558942527489=function(){return S((function(){return d(global.global)}),arguments)},n.wbg.__wbg_set_d4638f722068f043=function(n,e,r){l(n)[e>>>0]=m(r)},n.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(n){return Array.isArray(l(n))},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(n){var e;try{e=l(n)instanceof ArrayBuffer}catch(n){e=!1}return e},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return S((function(n,e,r){return d(l(n).call(l(e),l(r)))}),arguments)},n.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(n){return Number.isSafeInteger(l(n))},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(n){return d(l(n).buffer)},n.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(n,e,r){return d(new Uint8Array(l(n),e>>>0,r>>>0))},n.wbg.__wbg_new_63b92bc8671ed464=function(n){return d(new Uint8Array(l(n)))},n.wbg.__wbg_set_a47bac70306a19a7=function(n,e,r){l(n).set(l(e),r>>>0)},n.wbg.__wbg_length_c20a40f15020d68a=function(n){return l(n).length},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(n){var e;try{e=l(n)instanceof Uint8Array}catch(n){e=!1}return e},n.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(n){return d(new Uint8Array(n>>>0))},n.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(n,e,r){return d(l(n).subarray(e>>>0,r>>>0))},n.wbg.__wbindgen_debug_string=function(n,e){var r=y(x(l(e)),a.__wbindgen_malloc,a.__wbindgen_realloc),t=w;h()[n/4+1]=t,h()[n/4+0]=r},n.wbg.__wbindgen_throw=function(n,e){throw new Error(u(n,e))},n.wbg.__wbindgen_memory=function(){return d(a.memory)},n}function W(n,e){return a=n.exports,U.__wbindgen_wasm_module=e,k=null,v=null,A=null,o=null,a}function U(n){return E.apply(this,arguments)}function E(){return(E=r(t().mark((function n(r){var _,i,o,c;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===a){n.next=2;break}return n.abrupt("return",a);case 2:return void 0===r&&(r=new URL("zshuffle_wasm_bg.wasm",e.meta.url)),_=T(),("string"==typeof r||"function"==typeof Request&&r instanceof Request||"function"==typeof URL&&r instanceof URL)&&(r=fetch(r)),n.t0=j,n.next=9,r;case 9:return n.t1=n.sent,n.t2=_,n.next=13,(0,n.t0)(n.t1,n.t2);case 13:return i=n.sent,o=i.instance,c=i.module,n.abrupt("return",W(o,c));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}_._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});